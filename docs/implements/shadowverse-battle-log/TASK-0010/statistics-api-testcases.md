# TDDãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®šç¾©æ›¸: Statistics APIå®Ÿè£… - åŸºæœ¬çµ±è¨ˆ

**æ©Ÿèƒ½å**: Statistics API (çµ±è¨ˆæƒ…å ±è¨ˆç®—API)
**ã‚¿ã‚¹ã‚¯ID**: TASK-0010
**ãƒ†ã‚¹ãƒˆæ‹…å½“**: AI Assistant (Claude)
**ä½œæˆæ—¥**: 2025-11-01
**æ›´æ–°æ—¥**: 2025-11-01

---

## é–‹ç™ºè¨€èªžãƒ»ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

- **ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªž**: TypeScript 5.7+
  - **è¨€èªžé¸æŠžã®ç†ç”±**: æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒTypeScriptã‚’ä½¿ç”¨ã—ã¦ãŠã‚Šã€åž‹å®‰å…¨æ€§ã¨é–‹ç™ºåŠ¹çŽ‡ã‚’ä¸¡ç«‹ã§ãã‚‹
  - **ãƒ†ã‚¹ãƒˆã«é©ã—ãŸæ©Ÿèƒ½**: åž‹æŽ¨è«–ã«ã‚ˆã‚‹è£œå®Œã€åŽ³å¯†ãªåž‹ãƒã‚§ãƒƒã‚¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©ã«ã‚ˆã‚‹æ˜Žç¢ºãªãƒ†ã‚¹ãƒˆå¢ƒç•Œ
- **ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Jest 29.7.0 + ts-jest
  - **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯é¸æŠžã®ç†ç”±**: æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§æŽ¡ç”¨ã•ã‚Œã¦ãŠã‚Šã€ãƒ¢ãƒƒã‚¯æ©Ÿèƒ½ãŒå……å®Ÿã—ã¦ã„ã‚‹
  - **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç’°å¢ƒ**: Node.jsç’°å¢ƒã§ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã€Azure Functionsãƒ­ãƒ¼ã‚«ãƒ«ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§ã®çµ±åˆãƒ†ã‚¹ãƒˆ
- ðŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å·ï¼ˆjest.config.jsã€æ—¢å­˜ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ç¢ºèªï¼‰

---

## ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä¸€è¦§

### 1. æ­£å¸¸ç³»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼ˆåŸºæœ¬çš„ãªå‹•ä½œï¼‰

#### TC-001: å…¨ä½“çµ±è¨ˆã®æ­£å¸¸è¨ˆç®—

- **ãƒ†ã‚¹ãƒˆå**: æœŸé–“å†…ã®å…¨ä½“çµ±è¨ˆãŒæ­£ã—ãè¨ˆç®—ã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: StatisticsService.calculateStatistics() ãƒ¡ã‚½ãƒƒãƒ‰ãŒå…¨ä½“çµ±è¨ˆï¼ˆoverallï¼‰ã‚’æ­£ã—ãè¨ˆç®—ã™ã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: totalGamesã€winsã€lossesã€winRateãŒæ­£ç¢ºã«é›†è¨ˆã•ã‚Œã‚‹
- **å…¥åŠ›å€¤**:
  - `startDate`: "2025-01-01"
  - `endDate`: "2025-01-31"
  - `battleType`: undefinedï¼ˆã™ã¹ã¦ã®å¯¾æˆ¦ã‚¿ã‚¤ãƒ—ï¼‰
  - Blob Storageã«10ä»¶ã®å¯¾æˆ¦å±¥æ­´ï¼ˆå‹ã¡6ä»¶ã€è² ã‘4ä»¶ï¼‰
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: å…¸åž‹çš„ãª1ãƒ¶æœˆã®çµ±è¨ˆå–å¾—ã‚±ãƒ¼ã‚¹ã€ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸå‹æ•—æ•°
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  ```typescript
  {
    overall: {
      totalGames: 10,
      wins: 6,
      losses: 4,
      winRate: 60.0  // (6 / 10) * 100 = 60.0%
    },
    dateRange: {
      startDate: "2025-01-01",
      endDate: "2025-01-31"
    }
  }
  ```
  - **æœŸå¾…çµæžœã®ç†ç”±**: å‹çŽ‡è¨ˆç®—å¼ `Math.round((wins / totalGames) * 1000) / 10` ã«ã‚ˆã‚Šå°æ•°ç‚¹ç¬¬1ä½ã¾ã§å››æ¨äº”å…¥
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: çµ±è¨ˆè¨ˆç®—ã®åŸºæœ¬ãƒ­ã‚¸ãƒƒã‚¯ã‚’ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: å‹çŽ‡è¨ˆç®—ã®ä¸¸ã‚å‡¦ç†ã€totalGamesã®æ­£ç¢ºæ€§
- ðŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å·ï¼ˆrequirements.md Lines 259-267ã‚ˆã‚Šï¼‰

---

#### TC-002: ãƒžã‚¤ãƒ‡ãƒƒã‚­åˆ¥çµ±è¨ˆã®æ­£å¸¸è¨ˆç®—ã¨ã‚½ãƒ¼ãƒˆ

- **ãƒ†ã‚¹ãƒˆå**: ãƒžã‚¤ãƒ‡ãƒƒã‚­åˆ¥çµ±è¨ˆãŒè©¦åˆæ•°é™é †ã§ã‚½ãƒ¼ãƒˆã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: byMyDecké…åˆ—ãŒæ­£ã—ãã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã•ã‚Œã€totalGamesã®é™é †ã§ã‚½ãƒ¼ãƒˆã•ã‚Œã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: å„ãƒžã‚¤ãƒ‡ãƒƒã‚­ã”ã¨ã«çµ±è¨ˆãŒé›†è¨ˆã•ã‚Œã€è©¦åˆæ•°ãŒå¤šã„é †ã«è¿”å´ã•ã‚Œã‚‹
- **å…¥åŠ›å€¤**:
  - å¯¾æˆ¦å±¥æ­´20ä»¶
    - deck_001: 12è©¦åˆï¼ˆå‹ã¡8ã€è² ã‘4ï¼‰
    - deck_002: 8è©¦åˆï¼ˆå‹ã¡5ã€è² ã‘3ï¼‰
  - my-decks.json:
    ```json
    [
      { "id": "deck_001", "deckName": "ç§˜è¡“ã‚ªãƒ‡ãƒ³ã‚¹ãƒšãƒ«" },
      { "id": "deck_002", "deckName": "é€²åŒ–è‘¬é€ãƒã‚¯ãƒ­" }
    ]
    ```
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: è¤‡æ•°ãƒ‡ãƒƒã‚­ã‚’ä½¿ç”¨ã™ã‚‹ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å…¸åž‹çš„ãªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  ```typescript
  {
    byMyDeck: [
      {
        deckId: "deck_001",
        deckName: "ç§˜è¡“ã‚ªãƒ‡ãƒ³ã‚¹ãƒšãƒ«",
        totalGames: 12,
        wins: 8,
        losses: 4,
        winRate: 66.7  // (8 / 12) * 100 = 66.666... â†’ 66.7
      },
      {
        deckId: "deck_002",
        deckName: "é€²åŒ–è‘¬é€ãƒã‚¯ãƒ­",
        totalGames: 8,
        wins: 5,
        losses: 3,
        winRate: 62.5  // (5 / 8) * 100 = 62.5
      }
    ]
  }
  ```
  - **æœŸå¾…çµæžœã®ç†ç”±**: totalGamesã®é™é †ã‚½ãƒ¼ãƒˆã«ã‚ˆã‚Šã€ä½¿ç”¨é »åº¦ãŒé«˜ã„ãƒ‡ãƒƒã‚­ãŒä¸Šä½ã«è¡¨ç¤ºã•ã‚Œã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã¨ã‚½ãƒ¼ãƒˆãƒ­ã‚¸ãƒƒã‚¯ã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: myDeckIdã§ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã€deckNameã®å‚ç…§ã€é™é †ã‚½ãƒ¼ãƒˆ
- ðŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å·ï¼ˆrequirements.md Lines 269-278ã‚ˆã‚Šï¼‰

---

#### TC-003: ç›¸æ‰‹ãƒ‡ãƒƒã‚­åˆ¥çµ±è¨ˆã®æ­£å¸¸è¨ˆç®—

- **ãƒ†ã‚¹ãƒˆå**: ç›¸æ‰‹ãƒ‡ãƒƒã‚­åˆ¥çµ±è¨ˆãŒæ­£ã—ãé›†è¨ˆã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: byOpponentDecké…åˆ—ãŒæ­£ã—ãã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã•ã‚Œã€deckMasterã‹ã‚‰åå‰ã‚’å–å¾—ã™ã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: å„ç›¸æ‰‹ãƒ‡ãƒƒã‚­ã”ã¨ã«çµ±è¨ˆãŒé›†è¨ˆã•ã‚Œã€è©¦åˆæ•°é™é †ã§ã‚½ãƒ¼ãƒˆã•ã‚Œã‚‹
- **å…¥åŠ›å€¤**:
  - å¯¾æˆ¦å±¥æ­´15ä»¶
    - deck_master_005ï¼ˆé€²åŒ–ãƒã‚¯ãƒ­ï¼‰: 7è©¦åˆï¼ˆå‹ã¡5ã€è² ã‘2ï¼‰
    - deck_master_002ï¼ˆãƒŸãƒƒãƒ‰ãƒ¬ãƒ³ã‚¸ãƒ­ã‚¤ãƒ¤ãƒ«ï¼‰: 5è©¦åˆï¼ˆå‹ã¡3ã€è² ã‘2ï¼‰
    - deck_master_010ï¼ˆé€£æºãƒ­ã‚¤ãƒ¤ãƒ«ï¼‰: 3è©¦åˆï¼ˆå‹ã¡2ã€è² ã‘1ï¼‰
  - deck-master.json:
    ```json
    [
      { "id": "deck_master_005", "deckName": "é€²åŒ–ãƒã‚¯ãƒ­" },
      { "id": "deck_master_002", "deckName": "ãƒŸãƒƒãƒ‰ãƒ¬ãƒ³ã‚¸ãƒ­ã‚¤ãƒ¤ãƒ«" },
      { "id": "deck_master_010", "deckName": "é€£æºãƒ­ã‚¤ãƒ¤ãƒ«" }
    ]
    ```
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: ç’°å¢ƒã«å¤šã„ç›¸æ‰‹ãƒ‡ãƒƒã‚­ã¨ã®å¯¾æˆ¦ãŒé›†ä¸­ã™ã‚‹ã‚±ãƒ¼ã‚¹
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  ```typescript
  {
    byOpponentDeck: [
      {
        deckId: "deck_master_005",
        deckName: "é€²åŒ–ãƒã‚¯ãƒ­",
        totalGames: 7,
        wins: 5,
        losses: 2,
        winRate: 71.4  // (5 / 7) * 100 = 71.428... â†’ 71.4
      },
      {
        deckId: "deck_master_002",
        deckName: "ãƒŸãƒƒãƒ‰ãƒ¬ãƒ³ã‚¸ãƒ­ã‚¤ãƒ¤ãƒ«",
        totalGames: 5,
        wins: 3,
        losses: 2,
        winRate: 60.0
      },
      {
        deckId: "deck_master_010",
        deckName: "é€£æºãƒ­ã‚¤ãƒ¤ãƒ«",
        totalGames: 3,
        wins: 2,
        losses: 1,
        winRate: 66.7
      }
    ]
  }
  ```
  - **æœŸå¾…çµæžœã®ç†ç”±**: å¯¾æˆ¦é »åº¦ãŒé«˜ã„ãƒ‡ãƒƒã‚­ãŒä¸Šä½ã«è¡¨ç¤ºã•ã‚Œã€ç›¸æ€§åˆ†æžã«å½¹ç«‹ã¤
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ç›¸æ‰‹ãƒ‡ãƒƒã‚­ã®çµ±è¨ˆè¨ˆç®—ã¨å‚ç…§è§£æ±ºã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: opponentDeckIdã§ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã€deckMasterã‹ã‚‰ã®åå‰å–å¾—
- ðŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å·ï¼ˆrequirements.md Lines 274-278ã‚ˆã‚Šï¼‰

---

#### TC-004: ãƒ©ãƒ³ã‚¯å¸¯åˆ¥çµ±è¨ˆã®æ­£å¸¸è¨ˆç®—

- **ãƒ†ã‚¹ãƒˆå**: ãƒ©ãƒ³ã‚¯å¸¯åˆ¥çµ±è¨ˆãŒrank+groupå˜ä½ã§é›†è¨ˆã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: byRanké…åˆ—ãŒrank+groupã®çµ„ã¿åˆã‚ã›ã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã•ã‚Œã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: å„ãƒ©ãƒ³ã‚¯+ã‚°ãƒ«ãƒ¼ãƒ—ã”ã¨ã«çµ±è¨ˆãŒé›†è¨ˆã•ã‚Œã€è©¦åˆæ•°é™é †ã§ã‚½ãƒ¼ãƒˆã•ã‚Œã‚‹
- **å…¥åŠ›å€¤**:
  - å¯¾æˆ¦å±¥æ­´25ä»¶
    - ãƒ€ã‚¤ã‚¢ãƒ¢ãƒ³ãƒ‰ãƒ»AAA: 15è©¦åˆï¼ˆå‹ã¡10ã€è² ã‘5ï¼‰
    - ãƒ«ãƒ“ãƒ¼ãƒ»Master: 10è©¦åˆï¼ˆå‹ã¡6ã€è² ã‘4ï¼‰
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: ãƒ©ãƒ³ã‚¯å¸¯ã‚’ä¸Šã’ãªãŒã‚‰å¯¾æˆ¦ã™ã‚‹ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å…¸åž‹ãƒ‘ã‚¿ãƒ¼ãƒ³
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  ```typescript
  {
    byRank: [
      {
        rank: "ãƒ€ã‚¤ã‚¢ãƒ¢ãƒ³ãƒ‰",
        group: "AAA",
        totalGames: 15,
        wins: 10,
        losses: 5,
        winRate: 66.7  // (10 / 15) * 100 = 66.666... â†’ 66.7
      },
      {
        rank: "ãƒ«ãƒ“ãƒ¼",
        group: "Master",
        totalGames: 10,
        wins: 6,
        losses: 4,
        winRate: 60.0
      }
    ]
  }
  ```
  - **æœŸå¾…çµæžœã®ç†ç”±**: ãƒ©ãƒ³ã‚¯å¸¯ã”ã¨ã®æˆç¸¾ãŒå¯è¦–åŒ–ã•ã‚Œã€ãƒ©ãƒ³ã‚¯ã‚¢ãƒƒãƒ—ã®æˆ¦ç•¥ç«‹æ¡ˆã«æ´»ç”¨ã§ãã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: rank+groupã§ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã¨é›†è¨ˆã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: è¤‡åˆã‚­ãƒ¼ã§ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã€é™é †ã‚½ãƒ¼ãƒˆ
- ðŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å·ï¼ˆrequirements.md Lines 280-284ã‚ˆã‚Šï¼‰

---

#### TC-005: å…ˆæ”»å¾Œæ”»åˆ¥çµ±è¨ˆã®æ­£å¸¸è¨ˆç®—

- **ãƒ†ã‚¹ãƒˆå**: å…ˆæ”»å¾Œæ”»åˆ¥çµ±è¨ˆãŒæ­£ã—ãé›†è¨ˆã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: byTurnã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå…ˆæ”»ãƒ»å¾Œæ”»ãã‚Œãžã‚Œã®çµ±è¨ˆã‚’ä¿æŒã™ã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: turn === "å…ˆæ”»" ã¨ turn === "å¾Œæ”»" ã§åˆ†ã‘ã¦çµ±è¨ˆã‚’è¨ˆç®—
- **å…¥åŠ›å€¤**:
  - å¯¾æˆ¦å±¥æ­´18ä»¶
    - å…ˆæ”»: 10è©¦åˆï¼ˆå‹ã¡7ã€è² ã‘3ï¼‰
    - å¾Œæ”»: 8è©¦åˆï¼ˆå‹ã¡5ã€è² ã‘3ï¼‰
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: å…ˆæ”»å¾Œæ”»ãŒãƒ©ãƒ³ãƒ€ãƒ ã«æŒ¯ã‚Šåˆ†ã‘ã‚‰ã‚Œã‚‹è‡ªç„¶ãªå¯¾æˆ¦åˆ†å¸ƒ
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  ```typescript
  {
    byTurn: {
      å…ˆæ”»: {
        totalGames: 10,
        wins: 7,
        losses: 3,
        winRate: 70.0  // (7 / 10) * 100 = 70.0
      },
      å¾Œæ”»: {
        totalGames: 8,
        wins: 5,
        losses: 3,
        winRate: 62.5  // (5 / 8) * 100 = 62.5
      }
    }
  }
  ```
  - **æœŸå¾…çµæžœã®ç†ç”±**: å…ˆæ”»å¾Œæ”»ã®å‹çŽ‡å·®ã‚’å¯è¦–åŒ–ã—ã€ãƒ‡ãƒƒã‚­æ§‹ç¯‰ã®å‚è€ƒã«ã§ãã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: å…ˆæ”»å¾Œæ”»ã§ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã¨é›†è¨ˆã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: turnãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§ã®åˆ†é¡žã€ä¸¡æ–¹ã®çµ±è¨ˆãŒç‹¬ç«‹ã—ã¦è¨ˆç®—ã•ã‚Œã‚‹
- ðŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å·ï¼ˆrequirements.md Lines 285-289ã‚ˆã‚Šï¼‰

---

#### TC-006: æœŸé–“ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã®æ­£å¸¸å‹•ä½œ

- **ãƒ†ã‚¹ãƒˆå**: æœŸé–“ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãŒæ­£ã—ãå‹•ä½œã™ã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: startDateã¨endDateã®ç¯„å›²å†…ã®å¯¾æˆ¦å±¥æ­´ã®ã¿ãŒé›†è¨ˆã•ã‚Œã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: æ—¥ä»˜ãŒYYYY/MM/DDå½¢å¼ã§ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’YYYY-MM-DDå½¢å¼ã§æ¯”è¼ƒ
- **å…¥åŠ›å€¤**:
  - `startDate`: "2025-01-15"
  - `endDate`: "2025-01-20"
  - å¯¾æˆ¦å±¥æ­´:
    - "2025/01/10": 2ä»¶ï¼ˆç¯„å›²å¤–ï¼‰
    - "2025/01/15": 3ä»¶ï¼ˆç¯„å›²å†…ï¼‰
    - "2025/01/18": 5ä»¶ï¼ˆç¯„å›²å†…ï¼‰
    - "2025/01/20": 2ä»¶ï¼ˆç¯„å›²å†…ï¼‰
    - "2025/01/25": 3ä»¶ï¼ˆç¯„å›²å¤–ï¼‰
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: ç‰¹å®šæœŸé–“ã®æˆç¸¾ã‚’ç¢ºèªã™ã‚‹å…¸åž‹çš„ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  ```typescript
  {
    overall: {
      totalGames: 10,  // 3 + 5 + 2 = 10ï¼ˆç¯„å›²å¤–5ä»¶ã¯é™¤å¤–ï¼‰
      // ...
    },
    dateRange: {
      startDate: "2025-01-15",
      endDate: "2025-01-20"
    }
  }
  ```
  - **æœŸå¾…çµæžœã®ç†ç”±**: startDateä»¥ä¸Šã€endDateä»¥ä¸‹ã®æœŸé–“ã®ã¿ãŒé›†è¨ˆã•ã‚Œã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: æ—¥ä»˜ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯ã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: YYYY/MM/DDå½¢å¼ã¨YYYY-MM-DDå½¢å¼ã®æ¯”è¼ƒã€å¢ƒç•Œå€¤ã®åŒ…å«
- ðŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å·ï¼ˆrequirements.md Lines 306-316ã‚ˆã‚Šï¼‰

---

#### TC-007: å¯¾æˆ¦ã‚¿ã‚¤ãƒ—ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã®æ­£å¸¸å‹•ä½œ

- **ãƒ†ã‚¹ãƒˆå**: battleTypeãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãŒæ­£ã—ãå‹•ä½œã™ã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: battleTypeãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§æŒ‡å®šã•ã‚ŒãŸå¯¾æˆ¦ã‚¿ã‚¤ãƒ—ã®ã¿ãŒé›†è¨ˆã•ã‚Œã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: æŒ‡å®šã•ã‚ŒãŸå¯¾æˆ¦ã‚¿ã‚¤ãƒ—ã«ä¸€è‡´ã™ã‚‹å±¥æ­´ã®ã¿ãŒçµ±è¨ˆã«å«ã¾ã‚Œã‚‹
- **å…¥åŠ›å€¤**:
  - `battleType`: "ãƒ©ãƒ³ã‚¯ãƒžãƒƒãƒ"
  - å¯¾æˆ¦å±¥æ­´20ä»¶
    - ãƒ©ãƒ³ã‚¯ãƒžãƒƒãƒ: 12ä»¶ï¼ˆå‹ã¡8ã€è² ã‘4ï¼‰
    - å¯¾æˆ¦å°: 5ä»¶
    - ãƒ­ãƒ“ãƒ¼å¤§ä¼š: 3ä»¶
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: ãƒ©ãƒ³ã‚¯ãƒžãƒƒãƒã®ã¿ã®æˆç¸¾ã‚’ç¢ºèªã—ãŸã„ã‚±ãƒ¼ã‚¹
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  ```typescript
  {
    overall: {
      totalGames: 12,  // ãƒ©ãƒ³ã‚¯ãƒžãƒƒãƒã®ã¿
      wins: 8,
      losses: 4,
      winRate: 66.7
    }
  }
  ```
  - **æœŸå¾…çµæžœã®ç†ç”±**: ãƒ©ãƒ³ã‚¯ãƒžãƒƒãƒä»¥å¤–ã®å¯¾æˆ¦ã‚¿ã‚¤ãƒ—ã¯é›†è¨ˆã‹ã‚‰é™¤å¤–ã•ã‚Œã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: å¯¾æˆ¦ã‚¿ã‚¤ãƒ—ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: battleTypeã§ã®åŽ³å¯†ãªæ¯”è¼ƒã€ä»–ã®å¯¾æˆ¦ã‚¿ã‚¤ãƒ—ã®é™¤å¤–
- ðŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å·ï¼ˆrequirements.md Lines 112-116ã‚ˆã‚Šï¼‰

---

#### TC-008: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæœŸé–“ã®æ­£å¸¸å‹•ä½œï¼ˆç›´è¿‘7æ—¥é–“ï¼‰

- **ãƒ†ã‚¹ãƒˆå**: startDateã¨endDateãŒçœç•¥ã•ã‚ŒãŸå ´åˆã€ç›´è¿‘7æ—¥é–“ã®çµ±è¨ˆãŒå–å¾—ã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒçœç•¥ã•ã‚ŒãŸå ´åˆã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤å‡¦ç†
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: endDateã¯ä»Šæ—¥ã€startDateã¯endDateã®7æ—¥å‰ã«è¨­å®šã•ã‚Œã‚‹
- **å…¥åŠ›å€¤**:
  - `startDate`: undefined
  - `endDate`: undefined
  - ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ—¥: 2025-11-01ã¨ä»®å®š
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: æœ€ã‚‚ä¸€èˆ¬çš„ãªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆç›´è¿‘ã®æˆç¸¾ç¢ºèªï¼‰
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  ```typescript
  {
    dateRange: {
      startDate: "2025-10-25",  // 2025-11-01ã®7æ—¥å‰
      endDate: "2025-11-01"
    }
  }
  ```
  - **æœŸå¾…çµæžœã®ç†ç”±**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæœŸé–“æŒ‡å®šã—ãªã„å ´åˆã€ç›´è¿‘ã®æˆç¸¾ã‚’è¡¨ç¤º
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤å‡¦ç†ã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: getDateBeforeDays()ãƒ¡ã‚½ãƒƒãƒ‰ã®å‹•ä½œã€JSTåŸºæº–ã®æ—¥ä»˜å–å¾—
- ðŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å·ï¼ˆrequirements.md Lines 91-95ã‚ˆã‚Šï¼‰

---

### 2. ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼ˆã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼‰

#### TC-101: Blob StorageæŽ¥ç¶šã‚¨ãƒ©ãƒ¼

- **ãƒ†ã‚¹ãƒˆå**: Blob StorageæŽ¥ç¶šã‚¨ãƒ©ãƒ¼æ™‚ã«é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãŒã‚¹ãƒ­ãƒ¼ã•ã‚Œã‚‹
  - **ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®æ¦‚è¦**: Azure Blob Storageã¸ã®æŽ¥ç¶šã«å¤±æ•—ã—ãŸå ´åˆ
  - **ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®é‡è¦æ€§**: ã‚¤ãƒ³ãƒ•ãƒ©éšœå®³æ™‚ã®é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®é€šçŸ¥
- **å…¥åŠ›å€¤**:
  - BlobStorageClient.getBattleLogs()ãŒã‚¨ãƒ©ãƒ¼ã‚’ã‚¹ãƒ­ãƒ¼
  - **ä¸æ­£ãªç†ç”±**: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯éšœå®³ã€Storageã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®è¨­å®šãƒŸã‚¹ã€èªè¨¼ã‚¨ãƒ©ãƒ¼
  - **å®Ÿéš›ã®ç™ºç”Ÿã‚·ãƒŠãƒªã‚ª**: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯éšœå®³ã€Azure Storageéšœå®³ã€æŽ¥ç¶šæ–‡å­—åˆ—ã®è¨­å®šãƒŸã‚¹
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  - ã‚¨ãƒ©ãƒ¼ãŒã‚¹ãƒ­ãƒ¼ã•ã‚Œã‚‹
  - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: "Blob Storage connection failed" ãªã©
  - **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å†…å®¹**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä¸€æ™‚çš„ãªéšœå®³ã§ã‚ã‚‹ã“ã¨ã‚’ä¼ãˆã‚‹
  - **ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å…¨æ€§**: ã‚¨ãƒ©ãƒ¼æ™‚ã‚‚ã‚µãƒ¼ãƒãƒ¼ãŒã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã›ãšã€500ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ç¢ºèª
  - **å“è³ªä¿è¨¼ã®è¦³ç‚¹**: ã‚¤ãƒ³ãƒ•ãƒ©éšœå®³æ™‚ã‚‚ã‚·ã‚¹ãƒ†ãƒ ãŒå®‰å…¨ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ä¿è¨¼
- ðŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å·ï¼ˆrequirements.md Lines 619-639ã‚ˆã‚Šï¼‰

---

#### TC-102: ãƒ‡ãƒ¼ã‚¿å–å¾—å¤±æ•—æ™‚ã®ãƒªãƒˆãƒ©ã‚¤å¾Œã‚¨ãƒ©ãƒ¼

- **ãƒ†ã‚¹ãƒˆå**: BlobStorageClientãŒ3å›žãƒªãƒˆãƒ©ã‚¤å¾Œã«ã‚¨ãƒ©ãƒ¼ã‚’ã‚¹ãƒ­ãƒ¼ã™ã‚‹
  - **ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®æ¦‚è¦**: ä¸€æ™‚çš„ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ãŒ3å›žãƒªãƒˆãƒ©ã‚¤å¾Œã‚‚å›žå¾©ã—ãªã„å ´åˆ
  - **ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®é‡è¦æ€§**: ãƒªãƒˆãƒ©ã‚¤æ©Ÿæ§‹ãŒæ­£ã—ãå‹•ä½œã—ã€æœ€çµ‚çš„ã«ã‚¨ãƒ©ãƒ¼ã‚’ä¼æ’­ã™ã‚‹ã“ã¨
- **å…¥åŠ›å€¤**:
  - BlobStorageClient.getBattleLogs()ãŒ3å›žå¤±æ•—
  - **ä¸æ­£ãªç†ç”±**: ç¶™ç¶šçš„ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯éšœå®³ã€Storageã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ€ã‚¦ãƒ³
  - **å®Ÿéš›ã®ç™ºç”Ÿã‚·ãƒŠãƒªã‚ª**: é•·æ™‚é–“ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯éšœå®³ã€Azureãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: "Failed to read battle-logs.json after 3 attempts"
  - **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å†…å®¹**: ãƒªãƒˆãƒ©ã‚¤å›žæ•°ã¨å¤±æ•—ç†ç”±ã‚’æ˜Žç¤º
  - **ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å…¨æ€§**: ãƒªãƒˆãƒ©ã‚¤ãƒ­ã‚¸ãƒƒã‚¯ãŒBlobStorageClientå´ã§å®Ÿè¡Œã•ã‚Œã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ãƒªãƒˆãƒ©ã‚¤æ©Ÿæ§‹ã¨ã®çµ±åˆç¢ºèª
  - **å“è³ªä¿è¨¼ã®è¦³ç‚¹**: ä¸€æ™‚çš„ãªéšœå®³ã«å¯¾ã™ã‚‹è€æ€§ã‚’ç¢ºèª
- ðŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å·ï¼ˆEDGE-001, EDGE-002ã‚ˆã‚Šï¼‰

---

### 3. å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼ˆæœ€å°å€¤ã€æœ€å¤§å€¤ã€nullç­‰ï¼‰

#### TC-201: ãƒ‡ãƒ¼ã‚¿0ä»¶ã®å ´åˆã®çµ±è¨ˆè¨ˆç®—

- **ãƒ†ã‚¹ãƒˆå**: æœŸé–“å†…ã«å¯¾æˆ¦å±¥æ­´ãŒ0ä»¶ã®å ´åˆã€totalGames=0ã®çµ±è¨ˆãŒè¿”ã•ã‚Œã‚‹
  - **å¢ƒç•Œå€¤ã®æ„å‘³**: ãƒ‡ãƒ¼ã‚¿ä»¶æ•°ãŒã‚¼ãƒ­ï¼ˆæœ€å°å€¤ï¼‰ã®çŠ¶æ…‹
  - **å¢ƒç•Œå€¤ã§ã®å‹•ä½œä¿è¨¼**: ã‚¼ãƒ­é™¤ç®—ã‚¨ãƒ©ãƒ¼ã‚’èµ·ã“ã•ãšã€é©åˆ‡ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’è¿”ã™
- **å…¥åŠ›å€¤**:
  - `startDate`: "2025-12-01"
  - `endDate`: "2025-12-31"
  - å¯¾æˆ¦å±¥æ­´: 0ä»¶ï¼ˆæœªæ¥ã®æœŸé–“ã‚’æŒ‡å®šï¼‰
  - **å¢ƒç•Œå€¤é¸æŠžã®æ ¹æ‹ **: ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã—ãªã„æœŸé–“ã§ã®çµ±è¨ˆå–å¾—
  - **å®Ÿéš›ã®ä½¿ç”¨å ´é¢**: ã‚·ã‚¹ãƒ†ãƒ åˆå›žåˆ©ç”¨æ™‚ã€ã¾ã å¯¾æˆ¦ã—ã¦ã„ãªã„æœŸé–“ã®æŒ‡å®š
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  ```typescript
  {
    overall: {
      totalGames: 0,
      wins: 0,
      losses: 0,
      winRate: 0  // ã‚¼ãƒ­é™¤ç®—ã‚’é¿ã‘ã€0ã‚’è¿”ã™
    },
    byMyDeck: [],
    byOpponentDeck: [],
    byRank: [],
    byTurn: {
      å…ˆæ”»: { totalGames: 0, wins: 0, losses: 0, winRate: 0 },
      å¾Œæ”»: { totalGames: 0, wins: 0, losses: 0, winRate: 0 }
    },
    dateRange: {
      startDate: "2025-12-01",
      endDate: "2025-12-31"
    }
  }
  ```
  - **å¢ƒç•Œã§ã®æ­£ç¢ºæ€§**: ã‚¼ãƒ­é™¤ç®—ã‚’é¿ã‘ã€winRate=0ã¨ã—ã¦å®‰å…¨ã«å‡¦ç†
  - **ä¸€è²«ã—ãŸå‹•ä½œ**: ã‚¨ãƒ©ãƒ¼ã§ã¯ãªãã€ç©ºã®çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ã‚’è¿”ã™ï¼ˆREQ-405ï¼‰
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ã‚¼ãƒ­ä»¶ãƒ‡ãƒ¼ã‚¿ã§ã®å®‰å…¨ãªå‹•ä½œç¢ºèª
  - **å …ç‰¢æ€§ã®ç¢ºèª**: ã‚¼ãƒ­é™¤ç®—ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„ã“ã¨
- ðŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å·ï¼ˆrequirements.md Lines 508-540ã‚ˆã‚Šï¼‰

---

#### TC-202: å‹çŽ‡ãŒå‰²ã‚Šåˆ‡ã‚Œãªã„å ´åˆã®ä¸¸ã‚å‡¦ç†

- **ãƒ†ã‚¹ãƒˆå**: å‹çŽ‡ãŒå‰²ã‚Šåˆ‡ã‚Œãªã„å ´åˆã€å°æ•°ç‚¹ç¬¬1ä½ã¾ã§å››æ¨äº”å…¥ã•ã‚Œã‚‹
  - **å¢ƒç•Œå€¤ã®æ„å‘³**: å‹çŽ‡è¨ˆç®—ã®ç²¾åº¦ï¼ˆå°æ•°ç‚¹ç¬¬1ä½ï¼‰
  - **å¢ƒç•Œå€¤ã§ã®å‹•ä½œä¿è¨¼**: ä¸¸ã‚å‡¦ç†ãŒä»•æ§˜é€šã‚Šã«å‹•ä½œã™ã‚‹
- **å…¥åŠ›å€¤**:
  - totalGames: 3
  - wins: 2
  - losses: 1
  - **å¢ƒç•Œå€¤é¸æŠžã®æ ¹æ‹ **: 2 / 3 = 0.6666... ã®ä¸¸ã‚å‡¦ç†ã‚’ç¢ºèª
  - **å®Ÿéš›ã®ä½¿ç”¨å ´é¢**: å°‘æ•°è©¦åˆã§ã®å‹çŽ‡è¨ˆç®—
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  ```typescript
  {
    overall: {
      totalGames: 3,
      wins: 2,
      losses: 1,
      winRate: 66.7  // Math.round((2 / 3) * 1000) / 10 = 66.7
    }
  }
  ```
  - **å¢ƒç•Œã§ã®æ­£ç¢ºæ€§**: 66.666...ãŒ66.7ã«å››æ¨äº”å…¥ã•ã‚Œã‚‹
  - **ä¸€è²«ã—ãŸå‹•ä½œ**: ã™ã¹ã¦ã®çµ±è¨ˆã§åŒã˜ä¸¸ã‚å‡¦ç†ãŒé©ç”¨ã•ã‚Œã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: å‹çŽ‡è¨ˆç®—ã®ç²¾åº¦ç¢ºèª
  - **å …ç‰¢æ€§ã®ç¢ºèª**: å°æ•°ç‚¹è¨ˆç®—ãŒæ­£ã—ãè¡Œã‚ã‚Œã‚‹
- ðŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å·ï¼ˆrequirements.md Lines 566-582ã‚ˆã‚Šï¼‰

---

#### TC-203: ã™ã¹ã¦å‹åˆ©ã®å ´åˆã®å‹çŽ‡è¨ˆç®—

- **ãƒ†ã‚¹ãƒˆå**: ã™ã¹ã¦å‹åˆ©ã®å ´åˆã€winRate=100.0ãŒè¿”ã•ã‚Œã‚‹
  - **å¢ƒç•Œå€¤ã®æ„å‘³**: å‹çŽ‡ã®æœ€å¤§å€¤ï¼ˆ100%ï¼‰
  - **å¢ƒç•Œå€¤ã§ã®å‹•ä½œä¿è¨¼**: å‹çŽ‡100%ãŒæ­£ã—ãè¨ˆç®—ã•ã‚Œã‚‹
- **å…¥åŠ›å€¤**:
  - totalGames: 10
  - wins: 10
  - losses: 0
  - **å¢ƒç•Œå€¤é¸æŠžã®æ ¹æ‹ **: å‹çŽ‡ã®ä¸Šé™å€¤ã‚’ãƒ†ã‚¹ãƒˆ
  - **å®Ÿéš›ã®ä½¿ç”¨å ´é¢**: ç‰¹å®šã®ãƒ‡ãƒƒã‚­ã§é€£å‹ã—ã¦ã„ã‚‹å ´åˆ
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  ```typescript
  {
    overall: {
      totalGames: 10,
      wins: 10,
      losses: 0,
      winRate: 100.0  // (10 / 10) * 100 = 100.0
    }
  }
  ```
  - **å¢ƒç•Œã§ã®æ­£ç¢ºæ€§**: 100.0ãŒæ­£ã—ãè¿”ã•ã‚Œã‚‹
  - **ä¸€è²«ã—ãŸå‹•ä½œ**: å°æ•°ç‚¹ç¬¬1ä½ã¾ã§è¡¨ç¤º
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: å‹çŽ‡100%ã®æ­£å¸¸å‡¦ç†ç¢ºèª
  - **å …ç‰¢æ€§ã®ç¢ºèª**: æ¥µç«¯ãªå€¤ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„
- ðŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å·ï¼ˆrequirements.md Lines 584-597ã‚ˆã‚Šï¼‰

---

#### TC-204: ã™ã¹ã¦æ•—åŒ—ã®å ´åˆã®å‹çŽ‡è¨ˆç®—

- **ãƒ†ã‚¹ãƒˆå**: ã™ã¹ã¦æ•—åŒ—ã®å ´åˆã€winRate=0.0ãŒè¿”ã•ã‚Œã‚‹
  - **å¢ƒç•Œå€¤ã®æ„å‘³**: å‹çŽ‡ã®æœ€å°å€¤ï¼ˆ0%ï¼‰
  - **å¢ƒç•Œå€¤ã§ã®å‹•ä½œä¿è¨¼**: å‹çŽ‡0%ãŒæ­£ã—ãè¨ˆç®—ã•ã‚Œã‚‹
- **å…¥åŠ›å€¤**:
  - totalGames: 10
  - wins: 0
  - losses: 10
  - **å¢ƒç•Œå€¤é¸æŠžã®æ ¹æ‹ **: å‹çŽ‡ã®ä¸‹é™å€¤ã‚’ãƒ†ã‚¹ãƒˆ
  - **å®Ÿéš›ã®ä½¿ç”¨å ´é¢**: ç‰¹å®šã®ãƒ‡ãƒƒã‚­ã§å…¨æ•—ã—ã¦ã„ã‚‹å ´åˆ
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  ```typescript
  {
    overall: {
      totalGames: 10,
      wins: 0,
      losses: 10,
      winRate: 0.0  // (0 / 10) * 100 = 0.0
    }
  }
  ```
  - **å¢ƒç•Œã§ã®æ­£ç¢ºæ€§**: 0.0ãŒæ­£ã—ãè¿”ã•ã‚Œã‚‹
  - **ä¸€è²«ã—ãŸå‹•ä½œ**: å°æ•°ç‚¹ç¬¬1ä½ã¾ã§è¡¨ç¤º
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: å‹çŽ‡0%ã®æ­£å¸¸å‡¦ç†ç¢ºèª
  - **å …ç‰¢æ€§ã®ç¢ºèª**: æ¥µç«¯ãªå€¤ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„
- ðŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å·ï¼ˆrequirements.md Lines 599-614ã‚ˆã‚Šï¼‰

---

#### TC-205: å­˜åœ¨ã—ãªã„ãƒ‡ãƒƒã‚­IDãŒå«ã¾ã‚Œã‚‹å ´åˆ

- **ãƒ†ã‚¹ãƒˆå**: å­˜åœ¨ã—ãªã„ãƒ‡ãƒƒã‚­IDãŒå«ã¾ã‚Œã‚‹å ´åˆã€"ä¸æ˜Žãªãƒ‡ãƒƒã‚­"ã¨ã—ã¦çµ±è¨ˆã«å«ã¾ã‚Œã‚‹
  - **å¢ƒç•Œå€¤ã®æ„å‘³**: ãƒžã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã¨ã®ä¸æ•´åˆ
  - **å¢ƒç•Œå€¤ã§ã®å‹•ä½œä¿è¨¼**: å‚ç…§ã‚¨ãƒ©ãƒ¼ã‚’èµ·ã“ã•ãšã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å€¤ã‚’ä½¿ç”¨
- **å…¥åŠ›å€¤**:
  - å¯¾æˆ¦å±¥æ­´ã« `myDeckId: "deleted_deck_001"` ãŒå«ã¾ã‚Œã‚‹
  - my-decks.jsonã«ã¯ `deleted_deck_001` ãŒå­˜åœ¨ã—ãªã„
  - **å¢ƒç•Œå€¤é¸æŠžã®æ ¹æ‹ **: ãƒ‡ãƒƒã‚­å‰Šé™¤å¾Œã‚‚å¯¾æˆ¦å±¥æ­´ãŒæ®‹ã‚‹ã‚±ãƒ¼ã‚¹
  - **å®Ÿéš›ã®ä½¿ç”¨å ´é¢**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ‡ãƒƒã‚­ã‚’å‰Šé™¤ã—ãŸå¾Œã€éŽåŽ»ã®çµ±è¨ˆã‚’ç¢ºèª
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  ```typescript
  {
    byMyDeck: [
      {
        deckId: "deleted_deck_001",
        deckName: "ä¸æ˜Žãªãƒ‡ãƒƒã‚­",  // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å€¤
        totalGames: 10,
        wins: 6,
        losses: 4,
        winRate: 60.0
      }
    ]
  }
  ```
  - **å¢ƒç•Œã§ã®æ­£ç¢ºæ€§**: å­˜åœ¨ã—ãªã„IDã§ã‚‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãšã€çµ±è¨ˆã«å«ã¾ã‚Œã‚‹
  - **ä¸€è²«ã—ãŸå‹•ä½œ**: ãƒ‡ãƒƒã‚­åã®ã¿ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã€çµ±è¨ˆã¯æ­£å¸¸ã«è¨ˆç®—
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ãƒžã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ä¸æ•´åˆæ™‚ã®å®‰å…¨ãªå‹•ä½œç¢ºèª
  - **å …ç‰¢æ€§ã®ç¢ºèª**: nullå‚ç…§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„
- ðŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å·ï¼ˆrequirements.md Lines 541-564ã€EDGE-201ã‚ˆã‚Šï¼‰

---

#### TC-206: æœŸé–“ã®å¢ƒç•Œå€¤ï¼ˆstartDate = endDateï¼‰

- **ãƒ†ã‚¹ãƒˆå**: startDateã¨endDateãŒåŒä¸€ã®å ´åˆã€1æ—¥åˆ†ã®çµ±è¨ˆãŒè¿”ã•ã‚Œã‚‹
  - **å¢ƒç•Œå€¤ã®æ„å‘³**: æœŸé–“ã®æœ€å°å˜ä½ï¼ˆ1æ—¥ï¼‰
  - **å¢ƒç•Œå€¤ã§ã®å‹•ä½œä¿è¨¼**: 1æ—¥ã®ã¿ã®æœŸé–“æŒ‡å®šã§ã‚‚æ­£å¸¸ã«å‹•ä½œ
- **å…¥åŠ›å€¤**:
  - `startDate`: "2025-01-15"
  - `endDate`: "2025-01-15"
  - å¯¾æˆ¦å±¥æ­´:
    - "2025/01/15": 5ä»¶ï¼ˆå‹ã¡3ã€è² ã‘2ï¼‰
  - **å¢ƒç•Œå€¤é¸æŠžã®æ ¹æ‹ **: ç‰¹å®šã®1æ—¥ã®æˆç¸¾ã‚’ç¢ºèªã™ã‚‹ã‚±ãƒ¼ã‚¹
  - **å®Ÿéš›ã®ä½¿ç”¨å ´é¢**: ç‰¹å®šæ—¥ã®æˆç¸¾ã‚’è©³ç´°ã«åˆ†æž
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  ```typescript
  {
    overall: {
      totalGames: 5,
      wins: 3,
      losses: 2,
      winRate: 60.0
    },
    dateRange: {
      startDate: "2025-01-15",
      endDate: "2025-01-15"
    }
  }
  ```
  - **å¢ƒç•Œã§ã®æ­£ç¢ºæ€§**: åŒä¸€æ—¥ã®ç¯„å›²ã§ã‚‚æ­£å¸¸ã«é›†è¨ˆã•ã‚Œã‚‹
  - **ä¸€è²«ã—ãŸå‹•ä½œ**: æœŸé–“ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯ãŒå¢ƒç•Œå€¤ã§ã‚‚å‹•ä½œ
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: æœ€å°æœŸé–“ã§ã®æ­£å¸¸å‹•ä½œç¢ºèª
  - **å …ç‰¢æ€§ã®ç¢ºèª**: 1æ—¥ã®ã¿ã®æœŸé–“ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„
- ðŸŸ¡ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é»„ä¿¡å·ï¼ˆä¸€èˆ¬çš„ãªå¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆã‹ã‚‰æŽ¨æ¸¬ï¼‰

---

## ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®Ÿè£…æ™‚ã®æ—¥æœ¬èªžã‚³ãƒ¡ãƒ³ãƒˆæŒ‡é‡

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹é–‹å§‹æ™‚ã®ã‚³ãƒ¡ãƒ³ãƒˆ

```typescript
// ã€ãƒ†ã‚¹ãƒˆç›®çš„ã€‘: ã“ã®ãƒ†ã‚¹ãƒˆã§ä½•ã‚’ç¢ºèªã™ã‚‹ã‹ã‚’æ—¥æœ¬èªžã§æ˜Žè¨˜
// ã€ãƒ†ã‚¹ãƒˆå†…å®¹ã€‘: å…·ä½“çš„ã«ã©ã®ã‚ˆã†ãªå‡¦ç†ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹ã‚’èª¬æ˜Ž
// ã€æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œã€‘: æ­£å¸¸ã«å‹•ä½œã—ãŸå ´åˆã®çµæžœã‚’èª¬æ˜Ž
// ðŸ”µðŸŸ¡ðŸ”´ ã“ã®å†…å®¹ã®ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«ã‚’è¨˜è¼‰
```

### Givenï¼ˆæº–å‚™ãƒ•ã‚§ãƒ¼ã‚ºï¼‰ã®ã‚³ãƒ¡ãƒ³ãƒˆ

```typescript
// ã€ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æº–å‚™ã€‘: ãªãœã“ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç”¨æ„ã™ã‚‹ã‹ã®ç†ç”±
// ã€åˆæœŸæ¡ä»¶è¨­å®šã€‘: ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå‰ã®çŠ¶æ…‹ã‚’èª¬æ˜Ž
// ã€å‰ææ¡ä»¶ç¢ºèªã€‘: ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã«å¿…è¦ãªå‰ææ¡ä»¶ã‚’æ˜Žè¨˜
```

### Whenï¼ˆå®Ÿè¡Œãƒ•ã‚§ãƒ¼ã‚ºï¼‰ã®ã‚³ãƒ¡ãƒ³ãƒˆ

```typescript
// ã€å®Ÿéš›ã®å‡¦ç†å®Ÿè¡Œã€‘: ã©ã®æ©Ÿèƒ½/ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ã‹ã‚’èª¬æ˜Ž
// ã€å‡¦ç†å†…å®¹ã€‘: å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†ã®å†…å®¹ã‚’æ—¥æœ¬èªžã§èª¬æ˜Ž
// ã€å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã€‘: ãªãœã“ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å®Ÿè¡Œã™ã‚‹ã‹ã‚’èª¬æ˜Ž
```

### Thenï¼ˆæ¤œè¨¼ãƒ•ã‚§ãƒ¼ã‚ºï¼‰ã®ã‚³ãƒ¡ãƒ³ãƒˆ

```typescript
// ã€çµæžœæ¤œè¨¼ã€‘: ä½•ã‚’æ¤œè¨¼ã™ã‚‹ã‹ã‚’å…·ä½“çš„ã«èª¬æ˜Ž
// ã€æœŸå¾…å€¤ç¢ºèªã€‘: æœŸå¾…ã•ã‚Œã‚‹çµæžœã¨ãã®ç†ç”±ã‚’èª¬æ˜Ž
// ã€å“è³ªä¿è¨¼ã€‘: ã“ã®æ¤œè¨¼ãŒã‚·ã‚¹ãƒ†ãƒ å“è³ªã«ã©ã†è²¢çŒ®ã™ã‚‹ã‹ã‚’èª¬æ˜Ž
```

### å„expectã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã®ã‚³ãƒ¡ãƒ³ãƒˆ

```typescript
// ã€æ¤œè¨¼é …ç›®ã€‘: ã“ã®æ¤œè¨¼ã§ç¢ºèªã—ã¦ã„ã‚‹å…·ä½“çš„ãªé …ç›®
// ðŸ”µðŸŸ¡ðŸ”´ ã“ã®å†…å®¹ã®ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«ã‚’è¨˜è¼‰
expect(result.overall.totalGames).toBe(10); // ã€ç¢ºèªå†…å®¹ã€‘: æœŸé–“å†…ã®å…¨å¯¾æˆ¦æ•°ãŒæ­£ã—ãé›†è¨ˆã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
expect(result.overall.winRate).toBe(60.0); // ã€ç¢ºèªå†…å®¹ã€‘: å‹çŽ‡ãŒå°æ•°ç‚¹ç¬¬1ä½ã¾ã§å››æ¨äº”å…¥ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
```

---

## å“è³ªåˆ¤å®š

### âœ… é«˜å“è³ª: å®Ÿè£…å¯èƒ½

- **ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹åˆ†é¡ž**: æ­£å¸¸ç³»ï¼ˆ8ã‚±ãƒ¼ã‚¹ï¼‰ã€ç•°å¸¸ç³»ï¼ˆ2ã‚±ãƒ¼ã‚¹ï¼‰ã€å¢ƒç•Œå€¤ï¼ˆ6ã‚±ãƒ¼ã‚¹ï¼‰ãŒç¶²ç¾…ã•ã‚Œã¦ã„ã‚‹
- **æœŸå¾…å€¤å®šç¾©**: å„ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®æœŸå¾…å€¤ãŒå…·ä½“çš„ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹
- **æŠ€è¡“é¸æŠž**: TypeScript + Jestï¼ˆæ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨çµ±ä¸€ï¼‰
- **å®Ÿè£…å¯èƒ½æ€§**: æ—¢å­˜ã®BlobStorageClientã¨ãƒ¢ãƒƒã‚¯ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ´»ç”¨ã§ãã‚‹

### ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«ã‚µãƒžãƒªãƒ¼

- ðŸ”µ **é’ä¿¡å·** (ã»ã¼æŽ¨æ¸¬ãªã—): 93.75% (15/16ã‚±ãƒ¼ã‚¹)
  - requirements.mdã‹ã‚‰ç›´æŽ¥å°Žå‡ºã•ã‚ŒãŸãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
  - æ—¢å­˜ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å‚è€ƒã«ã—ãŸå®Ÿè£…æ–¹æ³•
- ðŸŸ¡ **é»„ä¿¡å·** (å¦¥å½“ãªæŽ¨æ¸¬): 6.25% (1/16ã‚±ãƒ¼ã‚¹)
  - TC-206: å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆï¼ˆstartDate = endDateï¼‰ã¯ä¸€èˆ¬çš„ãªãƒ†ã‚¹ãƒˆæ‰‹æ³•ã‹ã‚‰æŽ¨æ¸¬
- ðŸ”´ **èµ¤ä¿¡å·** (æŽ¨æ¸¬): 0%

### é‡è¦ãªæ³¨æ„äº‹é …

#### æ—¥ä»˜å½¢å¼ã®å¤‰æ› âš ï¸

- **Blob Storageä¿å­˜**: `YYYY/MM/DD` (ã‚¹ãƒ©ãƒƒã‚·ãƒ¥åŒºåˆ‡ã‚Š)
- **APIå…¥å‡ºåŠ›**: `YYYY-MM-DD` (ãƒã‚¤ãƒ•ãƒ³åŒºåˆ‡ã‚Š)
- **å¯¾å¿œ**: ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ™‚ã«æ—¥ä»˜å½¢å¼ã‚’å¤‰æ›ã—ã¦æ¯”è¼ƒ
  ```typescript
  const dateNormalized = date.replace(/\//g, '-'); // YYYY/MM/DD â†’ YYYY-MM-DD
  return dateNormalized >= startDate && dateNormalized <= endDate;
  ```

#### ãƒ¢ãƒƒã‚¯æˆ¦ç•¥ âš ï¸

- **BlobStorageClientã®ãƒ¢ãƒƒã‚¯**: æ—¢å­˜ãƒ†ã‚¹ãƒˆã¨åŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ç”¨
  ```typescript
  jest.mock('../../src/storage/blobStorageClient');
  mockBlobClient.getBattleLogs = jest.fn().mockResolvedValue(mockBattleLogs);
  mockBlobClient.getDeckMasters = jest.fn().mockResolvedValue(mockDeckMasters);
  mockBlobClient.getMyDecks = jest.fn().mockResolvedValue(mockMyDecks);
  ```

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

âœ… **ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æ´—ã„å‡ºã—å®Œäº†**

æ¬¡ã®ãŠå‹§ã‚ã‚¹ãƒ†ãƒƒãƒ—: `/tsumiki:tdd-red` ã§Redãƒ•ã‚§ãƒ¼ã‚ºï¼ˆå¤±æ•—ãƒ†ã‚¹ãƒˆä½œæˆï¼‰ã‚’é–‹å§‹ã—ã¾ã™ã€‚

**ä½œæˆæ—¥**: 2025-11-01
**æ›´æ–°æ—¥**: 2025-11-01
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… å®Œäº†
