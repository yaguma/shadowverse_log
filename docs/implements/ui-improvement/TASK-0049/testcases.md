# TASK-0049: BattleLogFormæœ¬å®Ÿè£… ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®šç¾©

## ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä¸€è¦§

### 1. æ­£å¸¸ç³»ãƒ†ã‚¹ãƒˆ

#### TC-0049-001: ãƒ‡ãƒƒã‚­ãƒã‚¹ã‚¿ãƒ¼ä¸€è¦§ãŒAPIçµŒç”±ã§å–å¾—ã•ã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆç›®çš„**: BattleLogFormãŒãƒã‚¦ãƒ³ãƒˆæ™‚ã«fetchDeckMastersã‚’å‘¼ã³å‡ºã™ã“ã¨ã‚’ç¢ºèª
- **å‰ææ¡ä»¶**: useDeckStoreãŒãƒ¢ãƒƒã‚¯åŒ–ã•ã‚Œã¦ã„ã‚‹
- **ãƒ†ã‚¹ãƒˆæ‰‹é †**:
  1. BattleLogFormã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
  2. fetchDeckMastersãŒå‘¼ã³å‡ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
- **æœŸå¾…çµæœ**: fetchDeckMastersãŒ1å›å‘¼ã³å‡ºã•ã‚Œã‚‹
- **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆREQ-0049-001ã«åŸºã¥ãï¼‰

#### TC-0049-002: ãƒ‡ãƒƒã‚­ãƒã‚¹ã‚¿ãƒ¼ä¸€è¦§ãŒãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã«è¡¨ç¤ºã•ã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆç›®çš„**: APIå–å¾—ã—ãŸãƒ‡ãƒƒã‚­ãƒã‚¹ã‚¿ãƒ¼ä¸€è¦§ãŒç›¸æ‰‹ãƒ‡ãƒƒã‚­ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã«è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
- **å‰ææ¡ä»¶**: useDeckStoreãŒãƒ‡ãƒƒã‚­ãƒã‚¹ã‚¿ãƒ¼ä¸€è¦§ã‚’è¿”ã™ã‚ˆã†ãƒ¢ãƒƒã‚¯åŒ–
- **ãƒ†ã‚¹ãƒˆæ‰‹é †**:
  1. useDeckStoreã«ãƒ‡ãƒƒã‚­ãƒã‚¹ã‚¿ãƒ¼ä¸€è¦§ã‚’ãƒ¢ãƒƒã‚¯è¨­å®š
  2. BattleLogFormã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
  3. ç›¸æ‰‹ãƒ‡ãƒƒã‚­ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã®é¸æŠè‚¢ã‚’ç¢ºèª
- **æœŸå¾…çµæœ**: ãƒ‡ãƒƒã‚­ãƒã‚¹ã‚¿ãƒ¼ä¸€è¦§ãŒé¸æŠè‚¢ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã‚‹
- **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆREQ-0049-001ã«åŸºã¥ãï¼‰

#### TC-0049-003: ãƒã‚¤ãƒ‡ãƒƒã‚­ä¸€è¦§ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆæš«å®šãƒ¢ãƒƒã‚¯ï¼‰

- **ãƒ†ã‚¹ãƒˆç›®çš„**: ãƒã‚¤ãƒ‡ãƒƒã‚­ä¸€è¦§ãŒä½¿ç”¨ãƒ‡ãƒƒã‚­ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã«è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
- **å‰ææ¡ä»¶**: æš«å®šãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹
- **ãƒ†ã‚¹ãƒˆæ‰‹é †**:
  1. BattleLogFormã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
  2. ä½¿ç”¨ãƒ‡ãƒƒã‚­ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã®é¸æŠè‚¢ã‚’ç¢ºèª
- **æœŸå¾…çµæœ**: ãƒã‚¤ãƒ‡ãƒƒã‚­ä¸€è¦§ãŒé¸æŠè‚¢ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã‚‹
- **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸŸ¡ï¼ˆREQ-0049-002ã«åŸºã¥ãã€æš«å®šå¯¾å¿œï¼‰

### 2. ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ãƒ†ã‚¹ãƒˆ

#### TC-0049-004: ãƒ‡ãƒƒã‚­ãƒã‚¹ã‚¿ãƒ¼å–å¾—ä¸­ã®ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º

- **ãƒ†ã‚¹ãƒˆç›®çš„**: ãƒ‡ãƒƒã‚­ãƒã‚¹ã‚¿ãƒ¼å–å¾—ä¸­ã«ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
- **å‰ææ¡ä»¶**: useDeckStoreã®isLoadingãŒtrueã‚’è¿”ã™ã‚ˆã†ãƒ¢ãƒƒã‚¯åŒ–
- **ãƒ†ã‚¹ãƒˆæ‰‹é †**:
  1. useDeckStoreã®isLoadingã‚’trueã«è¨­å®š
  2. BattleLogFormã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
  3. ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºã‚’ç¢ºèª
- **æœŸå¾…çµæœ**: ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€ã¾ãŸã¯é€ä¿¡ãƒœã‚¿ãƒ³ãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹
- **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆREQ-0049-003ã«åŸºã¥ãï¼‰

### 3. ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ãƒ†ã‚¹ãƒˆ

#### TC-0049-005: ãƒ‡ãƒƒã‚­ãƒã‚¹ã‚¿ãƒ¼å–å¾—ã‚¨ãƒ©ãƒ¼æ™‚ã®ã‚¨ãƒ©ãƒ¼è¡¨ç¤º

- **ãƒ†ã‚¹ãƒˆç›®çš„**: ãƒ‡ãƒƒã‚­ãƒã‚¹ã‚¿ãƒ¼å–å¾—ã‚¨ãƒ©ãƒ¼æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
- **å‰ææ¡ä»¶**: useDeckStoreã®errorãŒã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã™ã‚ˆã†ãƒ¢ãƒƒã‚¯åŒ–
- **ãƒ†ã‚¹ãƒˆæ‰‹é †**:
  1. useDeckStoreã®errorã«ã€Œãƒ‡ãƒƒã‚­æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€ã‚’è¨­å®š
  2. BattleLogFormã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
  3. ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¡¨ç¤ºã‚’ç¢ºèª
- **æœŸå¾…çµæœ**: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆREQ-0049-004ã«åŸºã¥ãï¼‰

#### TC-0049-006: ãƒ‡ãƒƒã‚­ãƒã‚¹ã‚¿ãƒ¼ãŒ0ä»¶ã®å ´åˆ

- **ãƒ†ã‚¹ãƒˆç›®çš„**: ãƒ‡ãƒƒã‚­ãƒã‚¹ã‚¿ãƒ¼ãŒ0ä»¶ã®å ´åˆã®å‹•ä½œã‚’ç¢ºèª
- **å‰ææ¡ä»¶**: useDeckStoreã®deckMastersãŒç©ºé…åˆ—ã‚’è¿”ã™ã‚ˆã†ãƒ¢ãƒƒã‚¯åŒ–
- **ãƒ†ã‚¹ãƒˆæ‰‹é †**:
  1. useDeckStoreã®deckMastersã‚’ç©ºé…åˆ—ã«è¨­å®š
  2. BattleLogFormã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
  3. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã¨é€ä¿¡ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹ã‚’ç¢ºèª
- **æœŸå¾…çµæœ**: ã€Œãƒ‡ãƒƒã‚­ãƒã‚¹ã‚¿ãƒ¼ã‚’ç™»éŒ²ã—ã¦ãã ã•ã„ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã€é€ä¿¡ãƒœã‚¿ãƒ³ãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹
- **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆæ—¢å­˜ãƒ†ã‚¹ãƒˆTC-FORM-BND-005ã®æ‹¡å¼µï¼‰

### 4. çµ±åˆãƒ†ã‚¹ãƒˆ

#### TC-0049-007: ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡æˆåŠŸãƒ•ãƒ­ãƒ¼

- **ãƒ†ã‚¹ãƒˆç›®çš„**: ãƒ‡ãƒƒã‚­ãƒã‚¹ã‚¿ãƒ¼å–å¾—å¾Œã®ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª
- **å‰ææ¡ä»¶**: ãƒ‡ãƒƒã‚­ãƒã‚¹ã‚¿ãƒ¼ä¸€è¦§ãŒå–å¾—æ¸ˆã¿
- **ãƒ†ã‚¹ãƒˆæ‰‹é †**:
  1. useDeckStoreã«ãƒ‡ãƒƒã‚­ãƒã‚¹ã‚¿ãƒ¼ä¸€è¦§ã‚’ãƒ¢ãƒƒã‚¯è¨­å®š
  2. BattleLogFormã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
  3. å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å…¥åŠ›
  4. ç™»éŒ²ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
- **æœŸå¾…çµæœ**: createBattleLogãŒå‘¼ã³å‡ºã•ã‚Œã€onSuccessã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå®Ÿè¡Œã•ã‚Œã‚‹
- **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µï¼ˆæ—¢å­˜ãƒ†ã‚¹ãƒˆTC-FORM-004ã®æ‹¡å¼µï¼‰

### 5. æ—¢å­˜ãƒ†ã‚¹ãƒˆã®ä¿®æ­£

ä»¥ä¸‹ã®æ—¢å­˜ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã¯ã€useDeckStoreã®ãƒ¢ãƒƒã‚¯è¿½åŠ ã«ã‚ˆã‚Šä¿®æ­£ãŒå¿…è¦ï¼š

- TC-FORM-001ã€œTC-FORM-005: æ­£å¸¸ç³»ãƒ†ã‚¹ãƒˆ
- TC-FORM-ERR-001ã€œTC-FORM-ERR-005: ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆ
- TC-FORM-BND-001ã€œTC-FORM-BND-005: å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆ
- TC-FORM-UI-001ã€œTC-FORM-UI-004: UI/UXãƒ†ã‚¹ãƒˆ
- TC-FORM-INT-001ã€œTC-FORM-INT-002: çµ±åˆãƒ†ã‚¹ãƒˆ
- TC-FORM-A11Y-001ã€œTC-FORM-A11Y-005: ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ
- TC-FORM-EDGE-001ã€œTC-FORM-EDGE-002: ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹

## ãƒ†ã‚¹ãƒˆå®Ÿè£…æ–¹é‡

### ãƒ¢ãƒƒã‚¯æ§‹æˆ

```typescript
// useDeckStoreã®ãƒ¢ãƒƒã‚¯
vi.mock('../../store/deckStore');

// beforeEachã§ãƒ¢ãƒƒã‚¯ã‚’åˆæœŸåŒ–
beforeEach(() => {
  vi.mocked(useDeckStore).mockReturnValue({
    deckMasters: [
      { id: 'deck-master-001', deckName: 'ç›¸æ‰‹ãƒ‡ãƒƒã‚­1' },
      { id: 'deck-master-002', deckName: 'ç›¸æ‰‹ãƒ‡ãƒƒã‚­2' },
    ],
    isLoading: false,
    error: null,
    fetchDeckMasters: vi.fn(),
    clearError: vi.fn(),
  });
});
```

### ãƒ†ã‚¹ãƒˆå„ªå…ˆåº¦

1. **æœ€å„ªå…ˆ**: TC-0049-001, TC-0049-002ï¼ˆAPIé€£æºã®åŸºæœ¬å‹•ä½œï¼‰
2. **å„ªå…ˆ**: TC-0049-004, TC-0049-005ï¼ˆãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ï¼‰
3. **æ¨™æº–**: TC-0049-003, TC-0049-006, TC-0049-007ï¼ˆãã®ä»–ã‚±ãƒ¼ã‚¹ï¼‰
4. **ä¿®æ­£**: æ—¢å­˜ãƒ†ã‚¹ãƒˆã®ä¿®æ­£
