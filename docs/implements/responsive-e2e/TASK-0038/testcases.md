# TASK-0038: レスポンシブ対応・E2Eテスト テストケース一覧

## 1. テスト概要

### 1.1 テスト範囲
- **E2Eテスト**: Playwright によるブラウザ操作テスト
- **レスポンシブテスト**: モバイル・PC両環境でのUI表示テスト

### 1.2 信頼性レベル
🔵 **青信号**: タスク定義書・要件定義書に基づくテストケース

## 2. E2Eテストケース

### 2.1 対戦履歴機能 (battle-log.spec.ts)

#### TC-E2E-BL-001: 対戦履歴ページが表示される (🔵)
**前提条件**: アプリケーションが起動している
**操作手順**:
1. トップページ (`/`) にアクセス
**期待結果**:
- ページタイトル「対戦履歴」が表示される
- 「新規登録」ボタンが表示される

#### TC-E2E-BL-002: 対戦履歴登録フォームが開く (🔵)
**前提条件**: 対戦履歴ページが表示されている
**操作手順**:
1. 「新規登録」ボタンをクリック
**期待結果**:
- 登録フォームモーダルが表示される
- 必須項目（日付、対戦タイプ、ランク）が表示される

#### TC-E2E-BL-003: フォームをキャンセルで閉じられる (🔵)
**前提条件**: 登録フォームが開いている
**操作手順**:
1. 「キャンセル」ボタンをクリック
**期待結果**:
- 登録フォームモーダルが閉じる
- 対戦履歴ページが表示される

#### TC-E2E-BL-004: 空データメッセージが表示される (🟡)
**前提条件**: 対戦履歴データが0件
**操作手順**:
1. トップページにアクセス
**期待結果**:
- 「対戦履歴がありません」メッセージが表示される

### 2.2 統計ダッシュボード機能 (statistics.spec.ts)

#### TC-E2E-ST-001: 統計ダッシュボードページが表示される (🔵)
**前提条件**: アプリケーションが起動している
**操作手順**:
1. 統計ページ (`/statistics`) にアクセス
**期待結果**:
- ページタイトル「統計ダッシュボード」が表示される
- 期間選択フォームが表示される

#### TC-E2E-ST-002: 期間選択フォームが操作できる (🔵)
**前提条件**: 統計ダッシュボードページが表示されている
**操作手順**:
1. 開始日入力欄をクリック
2. 日付を入力
3. 終了日入力欄をクリック
4. 日付を入力
**期待結果**:
- 日付が入力される
- ローディング状態が表示される（API呼び出し時）

#### TC-E2E-ST-003: データなし状態が表示される (🟡)
**前提条件**: 指定期間内のデータが0件
**操作手順**:
1. 統計ページにアクセス
**期待結果**:
- 「データがありません」メッセージが表示される

### 2.3 レスポンシブテスト (responsive.spec.ts)

#### TC-E2E-RESP-001: モバイル表示が正しく動作する (🔵)
**前提条件**: Pixel 5 デバイスエミュレーション
**操作手順**:
1. トップページにアクセス
**期待結果**:
- カード形式の一覧が表示される（テーブル非表示）
- ナビゲーションがモバイル対応している

#### TC-E2E-RESP-002: PC表示が正しく動作する (🔵)
**前提条件**: Desktop Chrome（1280x720）
**操作手順**:
1. トップページにアクセス
**期待結果**:
- テーブル形式の一覧が表示される（カード非表示）

#### TC-E2E-RESP-003: 統計ダッシュボードがレスポンシブに表示される (🔵)
**前提条件**: Pixel 5 デバイスエミュレーション
**操作手順**:
1. 統計ページにアクセス
**期待結果**:
- 1カラムレイアウトで表示される
- スクロールが正しく動作する

## 3. テストケースサマリー

| カテゴリ | テストケース数 | 実装予定 |
|---------|--------------|---------|
| 対戦履歴E2E | 4 | 4 |
| 統計ダッシュボードE2E | 3 | 3 |
| レスポンシブテスト | 3 | 3 |
| **合計** | **10** | **10** |

## 4. テスト実行方法

### 4.1 全E2Eテスト実行
```bash
cd frontend
pnpm test:e2e
```

### 4.2 特定テストファイル実行
```bash
cd frontend
npx playwright test tests/e2e/battle-log.spec.ts
npx playwright test tests/e2e/statistics.spec.ts
npx playwright test tests/e2e/responsive.spec.ts
```

### 4.3 UIモードで実行
```bash
cd frontend
npx playwright test --ui
```

## 5. テストデータ準備

### 5.1 モックAPI不使用の理由 (🟡)
- 実装工数の削減
- バックエンドAPIは別タスクでテスト済み
- フロントエンドの単体テスト（Vitest）でAPI連携をモック済み

### 5.2 テスト方針
1. **ページ表示確認**: DOM要素の存在確認
2. **UI操作確認**: ボタンクリック、入力操作
3. **レスポンシブ確認**: デバイスエミュレーションによる表示確認

## 6. 完了条件チェックリスト

- [ ] TC-E2E-BL-001: 対戦履歴ページが表示される
- [ ] TC-E2E-BL-002: 対戦履歴登録フォームが開く
- [ ] TC-E2E-BL-003: フォームをキャンセルで閉じられる
- [ ] TC-E2E-BL-004: 空データメッセージが表示される
- [ ] TC-E2E-ST-001: 統計ダッシュボードページが表示される
- [ ] TC-E2E-ST-002: 期間選択フォームが操作できる
- [ ] TC-E2E-ST-003: データなし状態が表示される
- [ ] TC-E2E-RESP-001: モバイル表示が正しく動作する
- [ ] TC-E2E-RESP-002: PC表示が正しく動作する
- [ ] TC-E2E-RESP-003: 統計ダッシュボードがレスポンシブに表示される

## 更新履歴
- 2025-11-30: 初版作成
