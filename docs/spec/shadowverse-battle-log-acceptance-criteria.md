# シャドウバース対戦履歴管理 受け入れ基準

## 概要

このドキュメントはシャドウバース対戦履歴管理アプリケーションの受け入れ基準とテスト項目を記載します。

---

## フェーズ1: 基本機能テスト基準

**【信頼性レベル凡例】**:
- 🔵 **青信号**: EARS要件定義書・設計文書・ユーザヒアリングを参考にした確実なテスト基準
- 🟡 **黄信号**: EARS要件定義書・設計文書・ユーザヒアリングから妥当な推測によるテスト基準
- 🔴 **赤信号**: EARS要件定義書・設計文書・ユーザヒアリングにない推測によるテスト基準

---

### REQ-001〜005: 対戦履歴登録機能 の受け入れ基準 🔵 *ユーザヒアリング2025-10-23より*

**Given（前提条件）**:
- アプリが起動し、対戦履歴一覧画面を表示している
- 既に1件以上の対戦履歴が登録されている（前回入力値引き継ぎのテスト用）
- `deck-master.json` に19種類のデッキタイプが登録されている
- `my-decks.json` に1件のマイデッキが登録されている

**When（実行条件）**:
- 一覧画面の「登録」ボタンをクリック
- 登録ダイアログが開く
- 以下の項目を入力:
  - 日付: 2025/10/23
  - 対戦タイプ: ランクマッチ
  - グループ: A
  - ランク: ダイアモンド
  - マイデッキID: 1
  - ターン: 先行
  - 結果: WIN
  - 相手デッキID: 2
- 「登録」ボタンをクリック

**Then（期待結果）**:
- ダイアログが閉じる
- 一覧画面の最上部に新規登録したデータが表示される
- データが Azure Blob Storage (battle-logs.json) に保存される
- 次回登録ダイアログを開くと、前回の入力値がデフォルト値として設定されている

**テストケース**:
- [x] 正常系: すべての項目を正しく入力して登録
- [x] 正常系: 前回入力値が引き継がれている（日付以外）
- [x] 異常系: 必須項目（日付）が未入力の場合、エラーメッセージが表示される
- [x] 異常系: 未来の日付を入力した場合、エラーメッセージが表示される
- [x] 異常系: 必須項目（対戦タイプ）が未選択の場合、登録ボタンが無効化される
- [x] 境界値: 日付が今日の場合、正常に登録される
- [x] 境界値: 日付が過去（1年前）の場合、正常に登録される

---

### REQ-101〜106: 対戦履歴一覧表示機能 の受け入れ基準 🔵 *ユーザヒアリング2025-10-23より*

**Given（前提条件）**:
- Azure Blob Storage に対戦履歴データ (battle-logs.json) が保存されている
- 直近1週間に150件、1週間以前に50件のデータが存在する（合計200件）

**When（実行条件）**:
- アプリを起動し、一覧画面を表示

**Then（期待結果）**:
- 直近1週間の対戦履歴が最大100件表示される
- 日付順（降順）でソート表示される（最新が上）
- 各行に以下の情報が表示される:
  - 日付
  - 対戦タイプ
  - グループ
  - ランク
  - マイデッキ名（IDではなく名前）
  - ターン
  - 結果（WIN/LOSE）
  - 相手デッキ名（IDではなく名前）
- 各行に「詳細」「削除」ボタンが表示される

**テストケース**:
- [x] 正常系: 直近1週間の100件が表示される（150件中100件）
- [x] 正常系: 日付順（降順）でソート表示される
- [x] 正常系: マイデッキID・相手デッキIDがデッキ名に変換される
- [x] 異常系: データが0件の場合、「データが登録されていません」と表示される
- [x] 異常系: Azure Blob Storageに接続できない場合、エラーメッセージが表示される
- [x] 境界値: 直近1週間のデータが0件の場合、「データが登録されていません」と表示される
- [x] 境界値: 直近1週間のデータが100件ちょうどの場合、100件すべて表示される
- [x] 境界値: 存在しないデッキIDが含まれる場合、「不明なデッキ」と表示される

---

### REQ-104: 詳細表示機能 の受け入れ基準 🔵 *ユーザヒアリング2025-10-23より*

**Given（前提条件）**:
- 対戦履歴一覧を表示している
- 一覧に1件以上のデータが表示されている

**When（実行条件）**:
- 一覧の任意の行の「詳細」ボタンをクリック

**Then（期待結果）**:
- 詳細情報がモーダルで表示される
- モーダルに以下の情報が表示される:
  - 日付
  - 対戦タイプ
  - グループ
  - ランク
  - マイデッキ名
  - ターン
  - 結果
  - 相手デッキ名
- 「閉じる」ボタンをクリックすると、モーダルが閉じて一覧画面に戻る

**テストケース**:
- [x] 正常系: 詳細モーダルがすべての項目を表示する
- [x] 正常系: 「閉じる」ボタンでモーダルが閉じる
- [x] 正常系: モーダル外をクリックするとモーダルが閉じる
- [x] 境界値: 存在しないデッキIDの場合、「不明なデッキ」と表示される

---

### REQ-105, REQ-403: 削除機能 の受け入れ基準 🔵 *ユーザヒアリング2025-10-23より*

**Given（前提条件）**:
- 対戦履歴一覧を表示している
- 一覧に2件以上のデータが表示されている

**When（実行条件）**:
- 一覧の任意の行の「削除」ボタンをクリック
- 確認ダイアログで「削除する」を選択

**Then（期待結果）**:
- 確認ダイアログが表示される（「本当に削除しますか？」）
- 「削除する」を選択すると、該当データが一覧から即座に削除される
- Azure Blob Storage (battle-logs.json) からもデータが削除される
- 「キャンセル」を選択すると、削除されずにダイアログが閉じる

**テストケース**:
- [x] 正常系: 削除確認ダイアログが表示される
- [x] 正常系: 「削除する」選択後、データが一覧とストレージから削除される
- [x] 正常系: 「キャンセル」選択後、データが削除されない
- [x] 境界値: 最後の1件を削除した場合、「データが登録されていません」と表示される

---

### REQ-201〜205: 統計・分析ダッシュボード機能 の受け入れ基準 🔵 *ユーザヒアリング2025-10-23より*

**Given（前提条件）**:
- Azure Blob Storage に以下のデータが保存されている:
  - 全期間: 100件（WIN: 60件, LOSE: 40件）
  - マイデッキ1: 50件（WIN: 35件, LOSE: 15件）
  - マイデッキ2: 50件（WIN: 25件, LOSE: 25件）
  - 相手デッキ: ロイヤル30件, ウィッチ25件, ナイトメア20件, その他25件
  - ランク帯: サファイア40件, ダイアモンド30件, ルビー10件, その他20件

**When（実行条件）**:
- ダッシュボード画面を表示
- 集計期間を「全期間」に設定

**Then（期待結果）**:
- 全体の勝率が表示される: 60% (WIN: 60, LOSE: 40)
- デッキタイプ別の勝率が表示される:
  - マイデッキ1: 70% (35勝15敗)
  - マイデッキ2: 50% (25勝25敗)
- 対戦相手デッキ別の勝率が表示される:
  - ロイヤル: 相手数と勝率
  - ウィッチ: 相手数と勝率
  - ナイトメア: 相手数と勝率
- ランク帯別の成績が表示される:
  - サファイア: 試合数と勝率
  - ダイアモンド: 試合数と勝率
  - ルビー: 試合数と勝率
- 対戦相手デッキ分布の円グラフが表示される:
  - ロイヤル: 30% (30件)
  - ウィッチ: 25% (25件)
  - ナイトメア: 20% (20件)
  - その他: 25% (25件)

**テストケース**:
- [x] 正常系: 全体勝率が正しく計算・表示される
- [x] 正常系: デッキタイプ別勝率が正しく計算・表示される
- [x] 正常系: 対戦相手デッキ別勝率が正しく計算・表示される
- [x] 正常系: ランク帯別成績が正しく計算・表示される
- [x] 正常系: 円グラフが色分けされて見やすく表示される
- [x] 異常系: データが0件の場合、「データなし」と表示される
- [x] 境界値: データが1件のみの場合、100%または0%と表示される
- [x] 境界値: すべてWINの場合、100%と表示される
- [x] 境界値: すべてLOSEの場合、0%と表示される

---

### REQ-202: 集計期間選択機能 の受け入れ基準 🔵 *ユーザヒアリング2025-10-23より*

**Given（前提条件）**:
- ダッシュボード画面を表示している
- 過去3ヶ月分のデータが保存されている

**When（実行条件）**:
- 期間選択ドロップダウンで「1週間」を選択

**Then（期待結果）**:
- すべての統計（勝率、デッキ別勝率、グラフなど）が1週間分のデータで再計算される
- ページ再読み込みなしで即座に更新される
- 期間選択が「1週間」のままで保持される

**テストケース**:
- [x] 正常系: 期間を「1週間」に変更すると、統計が再計算される
- [x] 正常系: 期間を「1ヶ月」に変更すると、統計が再計算される
- [x] 正常系: 期間を「3ヶ月」に変更すると、統計が再計算される
- [x] 正常系: 期間を「全期間」に変更すると、すべてのデータで統計が計算される
- [x] 正常系: カスタム期間（開始日〜終了日）を指定すると、その期間のデータで統計が計算される
- [x] 境界値: 選択期間にデータが0件の場合、「データなし」と表示される

---

### REQ-301〜303: データインポート機能 の受け入れ基準 🔵 *ユーザヒアリング2025-10-23より*

**Given（前提条件）**:
- 一覧画面を表示している
- 以下の形式のファイルを用意している:
  - JSON: `[{"id":"1","date":"2025/10/23",...}]`
  - CSV: `id,date,battleType,group,rank,myDeckId,turn,result,opponentDeckId`

**When（実行条件）**:
- 「インポート」ボタンをクリック
- ファイル選択ダイアログでJSONファイルを選択
- 「インポート実行」ボタンをクリック

**Then（期待結果）**:
- インポート処理が実行される
- インポート完了後、「○件のデータをインポートしました」とメッセージが表示される
- 一覧画面にインポートされたデータが表示される
- Azure Blob Storage (battle-logs.json) にデータが保存される

**テストケース**:
- [x] 正常系: 正しいJSON形式のファイルをインポート
- [x] 正常系: 正しいCSV形式のファイルをインポート
- [x] 正常系: 100件のデータを一括インポート
- [x] 異常系: JSON形式が不正な場合、エラーメッセージが表示される
- [x] 異常系: CSV形式が不正な場合、エラーメッセージが表示される
- [x] 異常系: 必須項目が欠けている場合、具体的な行番号とエラー内容が表示される
- [x] 異常系: ファイルサイズが大きすぎる場合（10MB以上）、エラーメッセージが表示される
- [x] 境界値: 0件のデータ（空配列）をインポートした場合、「インポートするデータがありません」と表示される
- [x] 境界値: 既存データと重複するIDがある場合、上書きまたはスキップの選択肢が表示される

---

## 非機能テスト基準

### パフォーマンステスト

**NFR-001〜003: パフォーマンス要件 🔵 *tech-stack.md・ユーザヒアリング2025-10-23より***

- [x] **ページ読み込み時間**: 初回表示が3秒以内（測定: Chrome DevTools Lighthouse）
- [x] **データ読み込み**: 100件のデータ表示が1秒以内
- [x] **統計計算**: 1,000件のデータから統計を計算し、2秒以内に表示
- [x] **インポート処理**: 1,000件のデータをインポートし、5秒以内に完了
- [x] **同時利用者数**: 10人が同時アクセスしても正常動作（負荷テスト）

**テスト方法**:
- 負荷テストツール: Apache JMeter / Artillery
- テストシナリオ:
  1. 10ユーザーが同時にログイン
  2. 各ユーザーが一覧表示・登録・統計閲覧を実施
  3. レスポンスタイムを計測
- 合格基準:
  - 平均レスポンスタイム: 2秒以内
  - 99パーセンタイル: 3秒以内
  - エラー率: 0%

---

### セキュリティテスト

**NFR-101〜104: セキュリティ要件 🔵 *CLAUDE.md・ユーザヒアリング2025-10-23より***

- [x] **HTTPS通信**: すべての通信がHTTPSで暗号化されている
- [x] **環境変数管理**: APIキー・接続文字列が環境変数で管理されている（.envファイルが.gitignoreに含まれている）
- [x] **入力バリデーション**: XSS攻撃を防ぐため、すべての入力がエスケープされている
- [x] **CORS設定**: 適切なオリジン制限が設定されている（Azure Static Web Appsのドメインのみ許可）
- [x] **認証機能（フェーズ2）**: Azure AD B2C認証により、認証されていないユーザーはデータにアクセスできない

**テスト方法**:
- セキュリティスキャンツール: OWASP ZAP
- 手動テスト:
  - XSS攻撃テスト（`<script>alert('XSS')</script>` を入力項目に入力）
  - HTTPS通信確認（Chrome DevTools Network タブで確認）
  - CORS設定確認（異なるオリジンからAPIを呼び出し、403エラーを確認）

---

## ユーザビリティテスト基準

### UX/UIテスト

**NFR-201〜204: ユーザビリティ要件 🟡 *一般的なUX要件から妥当な推測***

- [x] **直感的操作性**: 初回ユーザーが5分以内に登録・一覧表示を完了できる
- [x] **レスポンシブデザイン**: PC・スマートフォン・タブレットで正しく表示される
  - PC: 1920x1080
  - スマートフォン: 375x667 (iPhone SE)
  - タブレット: 768x1024 (iPad)
- [x] **アクセシビリティ**: WCAG 2.1 AA準拠（Lighthouse Accessibility スコア 90以上）
- [x] **エラーメッセージ**: 分かりやすい日本語でエラー内容が表示される
- [x] **ローディング表示**: データ読み込み中にスピナーが表示される

**テスト方法**:
- ユーザビリティテスト: 3名の初回ユーザーに操作してもらい、完了時間と満足度を計測
- レスポンシブテスト: Chrome DevTools Device Toolbar で各デバイスサイズを確認
- アクセシビリティチェック: Lighthouse / axe DevTools で自動スキャン

---

## Edgeケーステスト基準

### EDGE-001〜003: エラー処理 🟡 *CLAUDE.md信頼性要件から妥当な推測*

**ネットワークエラー時の受け入れ基準**

**Given（前提条件）**:
- アプリを起動している
- ネットワーク接続を意図的に切断

**When（実行条件）**:
- 一覧画面を表示しようとする

**Then（期待結果）**:
- 「ネットワークエラーが発生しました。接続を確認してください。」とエラーメッセージが表示される
- 「再試行」ボタンが表示される
- 「再試行」ボタンをクリックすると、再度データ読み込みを試みる

**テストケース**:
- [x] 正常系: ネットワークエラー時に適切なエラーメッセージが表示される
- [x] 正常系: 「再試行」ボタンで再度読み込みを試みる
- [x] 正常系: ネットワーク復旧後、正常にデータが表示される

---

**Azure Blob Storage接続エラー時の受け入れ基準**

**Given（前提条件）**:
- アプリを起動している
- Azure Blob Storageが一時的に接続不可

**When（実行条件）**:
- 一覧画面を表示しようとする

**Then（期待結果）**:
- 「データの読み込みに失敗しました。しばらくしてから再試行してください。」とエラーメッセージが表示される
- 「再試行」ボタンが表示される

**テストケース**:
- [x] 正常系: Blob Storage接続エラー時に適切なエラーメッセージが表示される
- [x] 正常系: リトライ処理が指数バックオフで実施される（1秒 → 2秒 → 4秒）
- [x] 正常系: 3回リトライしても失敗した場合、最終エラーメッセージが表示される

---

**インポートファイル不正形式時の受け入れ基準**

**Given（前提条件）**:
- インポート機能を使用している
- 以下の不正な形式のファイルを用意:
  - JSON: `{invalid json`
  - CSV: 必須項目（date）が欠けている行がある

**When（実行条件）**:
- 不正な形式のファイルをインポート

**Then（期待結果）**:
- 「ファイル形式が不正です。3行目: dateフィールドが必要です。」と具体的なエラー箇所が表示される
- インポート処理が中断され、データは保存されない

**テストケース**:
- [x] 正常系: JSON形式エラー時に具体的なエラー箇所が表示される
- [x] 正常系: CSV形式エラー時に行番号とエラー内容が表示される
- [x] 正常系: 一部のデータのみエラーの場合、正常なデータのみインポートするか選択できる

---

### EDGE-101〜103: 境界値 🔵 *ユーザヒアリング2025-10-23より*

**対戦履歴0件時の統計画面の受け入れ基準**

**Given（前提条件）**:
- Azure Blob Storage に対戦履歴が0件

**When（実行条件）**:
- ダッシュボード画面を表示

**Then（期待結果）**:
- 「データがありません。対戦履歴を登録してください。」とメッセージが表示される
- 統計情報・グラフは表示されない
- 「登録画面へ」ボタンが表示され、クリックすると登録ダイアログが開く

**テストケース**:
- [x] 正常系: 0件時に適切なメッセージが表示される
- [x] 正常系: 「登録画面へ」ボタンで登録ダイアログに遷移できる

---

**対戦履歴1,000件超時のパフォーマンスの受け入れ基準**

**Given（前提条件）**:
- Azure Blob Storage に1,500件のデータが保存されている

**When（実行条件）**:
- 一覧画面を表示
- ダッシュボード画面で統計を表示

**Then（期待結果）**:
- 一覧画面: 直近1週間の100件が3秒以内に表示される
- ダッシュボード: 1,500件の統計が3秒以内に計算・表示される
- スクロールが滑らか（60fps）

**テストケース**:
- [x] 正常系: 1,000件超のデータでもページ読み込みが3秒以内
- [x] 正常系: 統計計算が3秒以内
- [x] 正常系: UIが応答性を維持（スクロール・クリックがスムーズ）

---

**同一日付に複数の対戦履歴が存在する場合のソート**

**Given（前提条件）**:
- 同一日付（2025/10/23）に10件のデータが存在する

**When（実行条件）**:
- 一覧画面を表示

**Then（期待結果）**:
- 同一日付のデータが登録順（IDの昇順）で表示される
- 最新の登録が上に表示される

**テストケース**:
- [x] 正常系: 同一日付のデータが登録順で正しく表示される
- [x] 境界値: すべてのデータが同一日付の場合、登録順で表示される

---

### EDGE-201〜202: データ整合性 🟡 *データ整合性要件から妥当な推測*

**存在しないデッキIDが指定された場合の受け入れ基準**

**Given（前提条件）**:
- 対戦履歴に `opponentDeckId: 999` のデータが存在する
- `deck-master.json` に ID=999 のデッキが存在しない

**When（実行条件）**:
- 一覧画面を表示
- 詳細モーダルを開く

**Then（期待結果）**:
- 相手デッキ名が「不明なデッキ (ID: 999)」と表示される
- エラーは発生せず、他のデータは正常に表示される

**テストケース**:
- [x] 正常系: 存在しないデッキIDが「不明なデッキ」と表示される
- [x] 正常系: マイデッキIDが存在しない場合も同様に「不明なデッキ」と表示される

---

**削除済みマイデッキが過去の対戦履歴で参照されている場合**

**Given（前提条件）**:
- 対戦履歴に `myDeckId: 1` のデータが10件存在する
- マイデッキID=1が削除される（フェーズ2）

**When（実行条件）**:
- 一覧画面を表示

**Then（期待結果）**:
- マイデッキ名が「削除されたデッキ (ID: 1)」と表示される
- エラーは発生せず、他のデータは正常に表示される
- 統計画面でも「削除されたデッキ」として集計される

**テストケース**:
- [x] 正常系: 削除済みデッキが「削除されたデッキ」と表示される
- [x] 正常系: 統計計算でも削除済みデッキが正しく扱われる

---

## 統合テスト基準

### システム間連携テスト

**Azure Functions + Azure Blob Storage連携テスト**

- [x] **データ保存**: Azure Functions から Blob Storage にデータが正しく保存される
- [x] **データ読み込み**: Azure Functions から Blob Storage のデータが正しく読み込まれる
- [x] **データ更新**: 既存データが正しく更新される
- [x] **データ削除**: 指定データが正しく削除される
- [x] **ファイル不存在**: Blob Storageにファイルが存在しない場合、空配列が返される

---

### フロントエンド + バックエンド連携テスト

- [x] **API呼び出し**: フロントエンドから Azure Functions API が正しく呼び出される
- [x] **レスポンス形式**: API レスポンスが期待通りの形式で返される（`{success: true, data: [...]}`)
- [x] **エラーハンドリング**: API エラー時にフロントエンドで適切なエラーメッセージが表示される
- [x] **CORS設定**: CORS制限により、不正なオリジンからのアクセスが拒否される

---

## リグレッションテスト基準

### 既存機能影響確認

**フェーズ2実装時のリグレッションテスト**

- [x] **既存機能の動作確認**: フェーズ1の全機能（登録・一覧・統計・インポート）が正常動作する
- [x] **パフォーマンス劣化確認**: フェーズ1の機能のレスポンスタイムが3秒以内を維持
- [x] **セキュリティ設定確認**: HTTPS通信・CORS設定が維持されている
- [x] **データ整合性確認**: フェーズ1で登録したデータがフェーズ2でも正しく表示される

---

## フェーズ2: 追加機能テスト基準

### REQ-701〜702: Azure AD B2C認証機能 の受け入れ基準 🔵 *ユーザヒアリング2025-10-23より*

**Given（前提条件）**:
- Azure AD B2Cが設定済み
- ユーザーがMicrosoftアカウントを持っている

**When（実行条件）**:
- アプリを起動
- 「ログイン」ボタンをクリック
- Azure AD B2Cのログイン画面でMicrosoftアカウントでログイン

**Then（期待結果）**:
- ログイン成功後、ダッシュボード画面に遷移
- ログイン中のユーザー名が画面上部に表示される
- ログアウトボタンが表示される
- ユーザーは自分のデータのみアクセスできる

**テストケース**:
- [x] 正常系: Microsoftアカウントでログイン成功
- [x] 正常系: Google/GitHubアカウントでログイン成功
- [x] 正常系: ログアウト後、再度ログイン画面が表示される
- [x] 異常系: 認証失敗時にエラーメッセージが表示される
- [x] 異常系: 未ログイン状態ではデータにアクセスできない

---

### REQ-801〜803: マイデッキ管理機能 の受け入れ基準 🔵 *ユーザヒアリング2025-10-23より*

**Given（前提条件）**:
- ログイン済み
- マイデッキ管理画面を表示

**When（実行条件）**:
- 「デッキ追加」ボタンをクリック
- デッキ名「新デッキ」、デッキコード「3.1.3.1...」を入力
- 「登録」ボタンをクリック

**Then（期待結果）**:
- マイデッキ一覧に新デッキが追加される
- Azure Blob Storage (my-decks.json) にデータが保存される
- 対戦履歴登録時に新デッキが選択肢に表示される

**テストケース**:
- [x] 正常系: デッキ追加が成功する
- [x] 正常系: デッキ編集が成功する
- [x] 正常系: デッキ削除が成功する
- [x] 正常系: 使用中デッキの切り替えが成功する
- [x] 異常系: デッキ名が未入力の場合、エラーメッセージが表示される
- [x] 境界値: 使用中のデッキを削除しようとした場合、確認ダイアログが表示される

---

### REQ-1001〜1002: データエクスポート機能 の受け入れ基準 🔵 *ユーザヒアリング2025-10-23より*

**Given（前提条件）**:
- ログイン済み
- 対戦履歴が50件存在する

**When（実行条件）**:
- 一覧画面の「エクスポート」ボタンをクリック
- 「JSON形式」を選択
- 「ダウンロード」ボタンをクリック

**Then（期待結果）**:
- JSONファイル（battle-logs.json）がダウンロードされる
- ファイルには50件のデータがすべて含まれている
- ファイルは正しいJSON形式である

**テストケース**:
- [x] 正常系: JSON形式でエクスポート成功
- [x] 正常系: CSV形式でエクスポート成功
- [x] 境界値: データが0件の場合、空ファイルがダウンロードされる
- [x] 境界値: データが1,000件の場合、すべてのデータがエクスポートされる

---

### REQ-1101〜1102: PWA対応 の受け入れ基準 🔵 *ユーザヒアリング2025-10-23より*

**Given（前提条件）**:
- PWA対応ブラウザ（Chrome/Edge）を使用
- スマートフォンでアプリを表示

**When（実行条件）**:
- アプリを表示
- 「ホーム画面に追加」プロンプトをクリック

**Then（期待結果）**:
- ホーム画面にアプリアイコンが追加される
- アイコンをタップするとアプリが全画面で起動する
- オフライン時でも一覧画面が閲覧可能（キャッシュ利用）

**テストケース**:
- [x] 正常系: ホーム画面にアイコンが追加される
- [x] 正常系: アイコンから起動できる
- [x] 正常系: オフライン時に閲覧可能
- [x] 異常系: オフライン時に登録しようとすると「オフラインのため登録できません」と表示される

---

## 受け入れテスト実行チェックリスト

### テスト実行前

- [ ] テスト環境の準備完了（Azure Static Web Apps + Azure Functions + Blob Storage）
- [ ] テストデータの準備完了（battle-logs.json, deck-master.json, my-decks.json）
- [ ] テストツールの準備完了（Playwright, Jest, Lighthouse, OWASP ZAP）
- [ ] 実行担当者の確認完了

### テスト実行中（フェーズ1）

- [ ] 対戦履歴登録機能の全テスト実行
- [ ] 対戦履歴一覧表示機能の全テスト実行
- [ ] 詳細表示機能の全テスト実行
- [ ] 削除機能の全テスト実行
- [ ] 統計・分析ダッシュボード機能の全テスト実行
- [ ] データインポート機能の全テスト実行
- [ ] パフォーマンステスト実行
- [ ] セキュリティテスト実行
- [ ] ユーザビリティテスト実行
- [ ] Edgeケーステスト実行
- [ ] 問題発見時の記録（Issue登録）
- [ ] 修正後の再テスト

### テスト完了後

- [ ] テスト結果の記録（テストレポート作成）
- [ ] 残存問題の整理（既知の問題リスト作成）
- [ ] 受け入れ可否の判定
- [ ] ステークホルダーへの報告

---

## テスト環境

### 必要な環境

- **OS**: Windows 10/11, macOS 12+, Ubuntu 20.04+
- **ブラウザ**:
  - Chrome 最新版
  - Edge 最新版
  - Safari 16+
  - Firefox 最新版
- **モバイルデバイス**:
  - iPhone (iOS 15+)
  - Android (Android 11+)

### テストツール

- **Unit テスト**: Jest / Vitest
- **E2E テスト**: Playwright
- **パフォーマンステスト**: Lighthouse, Chrome DevTools
- **負荷テスト**: Apache JMeter / Artillery
- **セキュリティテスト**: OWASP ZAP
- **アクセシビリティテスト**: axe DevTools

---

## 更新履歴

- **2025-10-23**: 初版作成（tsumiki:kairo-requirements により自動生成）
  - フェーズ1（基本機能）・フェーズ2（追加機能）の受け入れ基準を定義
  - ユーザヒアリング2025-10-23の内容を反映
  - 既存データ構造（battle-logs.json, deck-master.json, my-decks.json）との整合性確保
