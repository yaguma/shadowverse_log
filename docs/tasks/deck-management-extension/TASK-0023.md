# TASK-0023: ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ‹¡å¼µï¼ˆãƒ‡ãƒƒã‚­ç®¡ç†ãƒªãƒ³ã‚¯è¿½åŠ ï¼‰

## ã‚¿ã‚¹ã‚¯æƒ…å ±

- **ã‚¿ã‚¹ã‚¯ID**: TASK-0023
- **ã‚¿ã‚¤ãƒ—**: DIRECT
- **æ¨å®šå·¥æ•°**: 2æ™‚é–“
- **ãƒ•ã‚§ãƒ¼ã‚º**: Phase 4 - ãƒ‡ãƒƒã‚­ç®¡ç†ç”»é¢çµ±åˆ
- **ä¿¡é ¼æ€§**: ğŸ”µï¼ˆarchitecture.md 2.2ã‚ˆã‚Šï¼‰
- **ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0022
- **å¾Œç¶šã‚¿ã‚¹ã‚¯**: TASK-0024
- **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: [ ] æœªå®Œäº†

---

## æ¦‚è¦

ãƒ˜ãƒƒãƒ€ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã«ã€Œãƒ‡ãƒƒã‚­ç®¡ç†ã€ãƒªãƒ³ã‚¯ã‚’è¿½åŠ ã—ã€React Routerã®ãƒ«ãƒ¼ãƒˆè¨­å®šã‚’è¡Œã†ã€‚ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã‚‚å®Ÿè£…ã™ã‚‹ã€‚

---

## å®Ÿè£…å†…å®¹

### 1. React Routerãƒ«ãƒ¼ãƒˆè¨­å®šè¿½åŠ 

`packages/frontend/src/App.tsx` ã¾ãŸã¯ `routes.tsx` ã«ãƒ«ãƒ¼ãƒˆè¿½åŠ :

```typescript
import { BrowserRouter, Routes, Route } from 'react-router-dom';
import { DeckManagePage } from '@/pages/DeckManagePage';
// ä»–ã®ãƒšãƒ¼ã‚¸ã‚¤ãƒ³ãƒãƒ¼ãƒˆ...

export const App = () => {
  return (
    <BrowserRouter>
      <Layout>
        <Routes>
          <Route path="/" element={<HomePage />} />
          <Route path="/battle-logs" element={<BattleLogPage />} />
          <Route path="/statistics" element={<StatisticsPage />} />
          <Route path="/decks" element={<DeckManagePage />} />
          {/* ä»–ã®ãƒ«ãƒ¼ãƒˆ */}
        </Routes>
      </Layout>
    </BrowserRouter>
  );
};
```

### 2. ãƒ˜ãƒƒãƒ€ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ›´æ–°

`packages/frontend/src/components/layout/Header.tsx` ã‚’æ›´æ–°:

```typescript
import { NavLink } from 'react-router-dom';

interface NavItem {
  path: string;
  label: string;
}

const navItems: NavItem[] = [
  { path: '/', label: 'ãƒ›ãƒ¼ãƒ ' },
  { path: '/battle-logs', label: 'å¯¾æˆ¦å±¥æ­´' },
  { path: '/statistics', label: 'çµ±è¨ˆ' },
  { path: '/decks', label: 'ãƒ‡ãƒƒã‚­ç®¡ç†' },
];

export const Header = () => {
  return (
    <header className="bg-white shadow-sm border-b">
      <div className="container mx-auto px-4">
        <div className="flex items-center justify-between h-16">
          {/* ãƒ­ã‚´ */}
          <NavLink to="/" className="text-xl font-bold text-gray-900">
            Shadowverse Battle Log
          </NavLink>

          {/* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */}
          <nav className="flex space-x-6">
            {navItems.map((item) => (
              <NavLink
                key={item.path}
                to={item.path}
                className={({ isActive }) =>
                  `text-sm font-medium transition-colors ${
                    isActive
                      ? 'text-blue-600 border-b-2 border-blue-600 pb-1'
                      : 'text-gray-600 hover:text-gray-900'
                  }`
                }
              >
                {item.label}
              </NavLink>
            ))}
          </nav>
        </div>
      </div>
    </header>
  );
};
```

### 3. ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã®ãŸã‚ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’è¿½åŠ :

```typescript
import { useState } from 'react';
import { NavLink } from 'react-router-dom';
import { Menu, X } from 'lucide-react';

export const Header = () => {
  const [isMenuOpen, setIsMenuOpen] = useState(false);

  return (
    <header className="bg-white shadow-sm border-b">
      <div className="container mx-auto px-4">
        <div className="flex items-center justify-between h-16">
          {/* ãƒ­ã‚´ */}
          <NavLink to="/" className="text-xl font-bold text-gray-900">
            Shadowverse Battle Log
          </NavLink>

          {/* ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */}
          <nav className="hidden md:flex space-x-6">
            {navItems.map((item) => (
              <NavLink
                key={item.path}
                to={item.path}
                className={({ isActive }) =>
                  `text-sm font-medium transition-colors ${
                    isActive
                      ? 'text-blue-600 border-b-2 border-blue-600 pb-1'
                      : 'text-gray-600 hover:text-gray-900'
                  }`
                }
              >
                {item.label}
              </NavLink>
            ))}
          </nav>

          {/* ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ */}
          <button
            className="md:hidden p-2"
            onClick={() => setIsMenuOpen(!isMenuOpen)}
            aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼"
          >
            {isMenuOpen ? <X size={24} /> : <Menu size={24} />}
          </button>
        </div>

        {/* ãƒ¢ãƒã‚¤ãƒ«ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */}
        {isMenuOpen && (
          <nav className="md:hidden py-4 border-t">
            {navItems.map((item) => (
              <NavLink
                key={item.path}
                to={item.path}
                onClick={() => setIsMenuOpen(false)}
                className={({ isActive }) =>
                  `block py-2 text-sm font-medium ${
                    isActive ? 'text-blue-600' : 'text-gray-600'
                  }`
                }
              >
                {item.label}
              </NavLink>
            ))}
          </nav>
        )}
      </div>
    </header>
  );
};
```

---

## ãƒ†ã‚¹ãƒˆè¦ä»¶

### å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆVitestï¼‰

`packages/frontend/src/components/layout/__tests__/Header.test.tsx`:

```typescript
import { render, screen } from '@testing-library/react';
import { BrowserRouter } from 'react-router-dom';
import { describe, it, expect } from 'vitest';
import { Header } from '../Header';

const renderWithRouter = (component: React.ReactNode) => {
  return render(<BrowserRouter>{component}</BrowserRouter>);
};

describe('Header', () => {
  it('ãƒ‡ãƒƒã‚­ç®¡ç†ãƒªãƒ³ã‚¯ãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {
    renderWithRouter(<Header />);
    expect(screen.getByRole('link', { name: 'ãƒ‡ãƒƒã‚­ç®¡ç†' })).toBeInTheDocument();
  });

  it('ãƒ‡ãƒƒã‚­ç®¡ç†ãƒªãƒ³ã‚¯ã®hrefãŒæ­£ã—ã„', () => {
    renderWithRouter(<Header />);
    const link = screen.getByRole('link', { name: 'ãƒ‡ãƒƒã‚­ç®¡ç†' });
    expect(link).toHaveAttribute('href', '/decks');
  });

  it('ã™ã¹ã¦ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒ³ã‚¯ãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {
    renderWithRouter(<Header />);
    expect(screen.getByRole('link', { name: 'ãƒ›ãƒ¼ãƒ ' })).toBeInTheDocument();
    expect(screen.getByRole('link', { name: 'å¯¾æˆ¦å±¥æ­´' })).toBeInTheDocument();
    expect(screen.getByRole('link', { name: 'çµ±è¨ˆ' })).toBeInTheDocument();
    expect(screen.getByRole('link', { name: 'ãƒ‡ãƒƒã‚­ç®¡ç†' })).toBeInTheDocument();
  });
});
```

### ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ã‚¹ãƒˆ

`packages/frontend/src/__tests__/routes.test.tsx`:

```typescript
import { render, screen } from '@testing-library/react';
import { MemoryRouter } from 'react-router-dom';
import { describe, it, expect, vi } from 'vitest';
import { App } from '../App';

// ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ¢ãƒƒã‚¯
vi.mock('@/pages/DeckManagePage', () => ({
  DeckManagePage: () => <div>ãƒ‡ãƒƒã‚­ç®¡ç†ãƒšãƒ¼ã‚¸</div>,
}));

describe('ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°', () => {
  it('/decks ã§DeckManagePageãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {
    render(
      <MemoryRouter initialEntries={['/decks']}>
        <App />
      </MemoryRouter>
    );
    expect(screen.getByText('ãƒ‡ãƒƒã‚­ç®¡ç†ãƒšãƒ¼ã‚¸')).toBeInTheDocument();
  });
});
```

---

## å®Œäº†æ¡ä»¶

- [ ] `/decks` ãƒ«ãƒ¼ãƒˆãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹
- [ ] ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã€Œãƒ‡ãƒƒã‚­ç®¡ç†ã€ãƒªãƒ³ã‚¯ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨DeckManagePageã«é·ç§»ã™ã‚‹
- [ ] ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ãŒé©ç”¨ã•ã‚Œã‚‹
- [ ] ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- [ ] ãƒ†ã‚¹ãƒˆãŒã™ã¹ã¦æˆåŠŸã™ã‚‹

---

## å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰

```bash
# ç›´æ¥å®Ÿè£…
/tsumiki:direct-setup
/tsumiki:direct-verify
```

---

## æ¤œè¨¼æ‰‹é †

1. `packages/frontend/src/App.tsx` ã«ãƒ«ãƒ¼ãƒˆè¨­å®šãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
2. `packages/frontend/src/components/layout/Header.tsx` ã«ãƒªãƒ³ã‚¯ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
3. ãƒ–ãƒ©ã‚¦ã‚¶ã§ã€Œãƒ‡ãƒƒã‚­ç®¡ç†ã€ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦é·ç§»ã‚’ç¢ºèª
4. ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒæ­£ã—ãé©ç”¨ã•ã‚Œã‚‹ã‹ç¢ºèª
5. `pnpm test` ã§ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã™ã‚‹ã‹ç¢ºèª

---

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [æŠ€è¡“è¨­è¨ˆæ›¸ architecture.md 2.2](../../design/deck-management-extension/architecture.md)
- [TASK-0022: DeckManagePageã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆå®Ÿè£…](./TASK-0022.md)
