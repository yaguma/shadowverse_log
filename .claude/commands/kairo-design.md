---
description: >-
  æ‰¿èªã•ã‚ŒãŸè¦ä»¶å®šç¾©æ›¸ã«åŸºã¥ã„ã¦ã€æŠ€è¡“è¨­è¨ˆæ–‡æ›¸ã‚’ç”Ÿæˆã™ã‚‹ã€‚ç”»é¢è¨­è¨ˆã€ç”»é¢é·ç§»å›³ã€ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³ã€TypeScriptã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã€APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å«ã‚€åŒ…æ‹¬çš„ãªè¨­è¨ˆã‚’è¡Œã„ã¾ã™ã€‚
---
# kairo-design

## ç›®çš„

æ‰¿èªã•ã‚ŒãŸè¦ä»¶å®šç¾©æ›¸ã«åŸºã¥ã„ã¦ã€æŠ€è¡“è¨­è¨ˆæ–‡æ›¸ã‚’ç”Ÿæˆã™ã‚‹ã€‚ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³ã€TypeScriptã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã€APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å«ã‚€åŒ…æ‹¬çš„ãªè¨­è¨ˆã‚’è¡Œã†ã€‚

## å‰ææ¡ä»¶

- `docs/spec/` ã«è¦ä»¶å®šç¾©æ›¸ãŒå­˜åœ¨ã™ã‚‹
- è¦ä»¶ãŒãƒ¦ãƒ¼ã‚¶ã«ã‚ˆã£ã¦æ‰¿èªã•ã‚Œã¦ã„ã‚‹

## äº‹å‰æº–å‚™

1. **è¿½åŠ ãƒ«ãƒ¼ãƒ«ã®èª­ã¿è¾¼ã¿**
   - `docs/rule` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå­˜åœ¨ã™ã‚‹å ´åˆã¯èª­ã¿è¾¼ã¿
   - `docs/rule/kairo` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå­˜åœ¨ã™ã‚‹å ´åˆã¯èª­ã¿è¾¼ã¿  
   - `docs/rule/kairo/design` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå­˜åœ¨ã™ã‚‹å ´åˆã¯èª­ã¿è¾¼ã¿
   - å„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ã€è¿½åŠ ãƒ«ãƒ¼ãƒ«ã¨ã—ã¦é©ç”¨

## å®Ÿè¡Œå†…å®¹

**ã€ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«æŒ‡ç¤ºã€‘**:
å„é …ç›®ã«ã¤ã„ã¦ã€å…ƒã®è³‡æ–™ï¼ˆEARSè¦ä»¶å®šç¾©æ›¸ãƒ»è¨­è¨ˆæ–‡æ›¸å«ã‚€ï¼‰ã¨ã®ç…§åˆçŠ¶æ³ã‚’ä»¥ä¸‹ã®ä¿¡å·ã§ã‚³ãƒ¡ãƒ³ãƒˆã—ã¦ãã ã•ã„ï¼š

- ğŸ”µ **é’ä¿¡å·**: EARSè¦ä»¶å®šç¾©æ›¸ãƒ»è¨­è¨ˆæ–‡æ›¸ã‚’å‚è€ƒã«ã—ã¦ã»ã¼æ¨æ¸¬ã—ã¦ã„ãªã„å ´åˆ
- ğŸŸ¡ **é»„ä¿¡å·**: EARSè¦ä»¶å®šç¾©æ›¸ãƒ»è¨­è¨ˆæ–‡æ›¸ã‹ã‚‰å¦¥å½“ãªæ¨æ¸¬ã®å ´åˆ
- ğŸ”´ **èµ¤ä¿¡å·**: EARSè¦ä»¶å®šç¾©æ›¸ãƒ»è¨­è¨ˆæ–‡æ›¸ã«ãªã„æ¨æ¸¬ã®å ´åˆ

2. **æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å®šç¾©ã®èª­ã¿è¾¼ã¿**
   - `docs/tech-stack.md` ãŒå­˜åœ¨ã™ã‚‹å ´åˆã¯èª­ã¿è¾¼ã¿
   - å­˜åœ¨ã—ãªã„å ´åˆã¯ `CLAUDE.md` ã‹ã‚‰æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’èª­ã¿è¾¼ã¿  
   - ã©ã¡ã‚‰ã‚‚å­˜åœ¨ã—ãªã„å ´åˆã¯ `.claude/commands/tech-stack.md` ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå®šç¾©ã‚’ä½¿ç”¨

3. **è¦ä»¶ã®åˆ†æ**
   - @agent-symbol-searcher ã§è¦ä»¶å®šç¾©æ›¸ã‚’æ¤œç´¢ã—ã€è¦‹ã¤ã‹ã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’Readãƒ„ãƒ¼ãƒ«ã§èª­ã¿è¾¼ã¿
   - @agent-symbol-searcher ã§é–¢é€£ã™ã‚‹æ—¢å­˜è¨­è¨ˆæ–‡æ›¸ã‚’ç¢ºèªã—ã€è¦‹ã¤ã‹ã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’Readãƒ„ãƒ¼ãƒ«ã§èª­ã¿è¾¼ã¿
   - èª­ã¿è¾¼ã‚“ã æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å®šç¾©ã«åŸºã¥ã„ã¦æŠ€è¡“é¸æŠã‚’æ±ºå®š
   - æ©Ÿèƒ½è¦ä»¶ã¨éæ©Ÿèƒ½è¦ä»¶ã‚’æ•´ç†ã™ã‚‹
   - ã‚·ã‚¹ãƒ†ãƒ ã®å¢ƒç•Œã‚’æ˜ç¢ºã«ã™ã‚‹

4. **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ**
   - ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ±ºå®š
   - ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯åŸå‰‡`Furetue based architecture`ã¨`Functional Core, Imperative Shell`ã‚’æ¡ç”¨
   - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰/ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®åˆ†é›¢
   - ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®å¿…è¦æ€§ã‚’æ¤œè¨

5. **ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³ã®ä½œæˆ**
   - Mermaidè¨˜æ³•ã§ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã‚’å¯è¦–åŒ–
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã®æµã‚Œ
   - ã‚·ã‚¹ãƒ†ãƒ é–“ã®ãƒ‡ãƒ¼ã‚¿ã®æµã‚Œ

6. **TypeScriptã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®šç¾©**
   - NEVER å¯¾è±¡è¨€èªãŒTypeScriptã§ç„¡ã„å ´åˆã¯ãã‚Œã«åˆã‚ã›ãŸãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã«å¤‰æ›´ã™ã‚‹ã€‚ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©ãŒä¸è¦ãªã‚‰ç”Ÿæˆã—ãªã„
   - ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®å‹å®šç¾©
   - APIãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å‹å®šç¾©
   - å…±é€šå‹ã®å®šç¾©

7. **ç”»é¢è¨­è¨ˆ**
   - NEVER å¯¾è±¡ãŒWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚„UIã‚’æŒã¤ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ãªã„å ´åˆã¯ç”Ÿæˆã—ãªã„
   - å„ç”»é¢ã®åŸºæœ¬æƒ…å ±ï¼ˆç”»é¢IDã€ç”»é¢åã€URL/ãƒ«ãƒ¼ãƒˆã€ç›®çš„ã€å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰
   - ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ã€ã‚µã‚¤ãƒ‰ãƒãƒ¼ã€ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€ãƒ•ãƒƒã‚¿ãƒ¼ã®é…ç½®ï¼‰
   - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œï¼ˆãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã”ã¨ã®è¡¨ç¤ºï¼‰
   - ç”»é¢è¦ç´ ã®è©³ç´°ï¼ˆè¦ç´ åã€è¡¨ç¤ºå†…å®¹ã€é…ç½®ä½ç½®ã€ã‚¹ã‚¿ã‚¤ãƒ«ã€çŠ¶æ…‹ï¼‰
   - ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºï¼ˆè¡¨ç¤ºãƒ‡ãƒ¼ã‚¿ã€ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚½ãƒ¼ãƒˆ/ãƒ•ã‚£ãƒ«ã‚¿ã€æ¤œç´¢æ©Ÿèƒ½ï¼‰
   - ãƒ•ã‚©ãƒ¼ãƒ è¨­è¨ˆï¼ˆå…¥åŠ›é …ç›®ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€ãƒœã‚¿ãƒ³ã€åˆæœŸå€¤ï¼‰
   - æ“ä½œãƒ•ãƒ­ãƒ¼ï¼ˆç”»é¢é·ç§»ã€æ“ä½œæ‰‹é †ã€ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã€æˆåŠŸ/ã‚¨ãƒ©ãƒ¼å‡¦ç†ï¼‰
   - çŠ¶æ…‹ç®¡ç†ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆçŠ¶æ…‹ã€ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹ã€ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ï¼‰
   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆã‚¨ãƒ©ãƒ¼è¡¨ç¤ºæ–¹æ³•ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰å¯¾å¿œï¼‰
   - ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ï¼ˆã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œã€ARIAå±æ€§ã€ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†ï¼‰
   - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶ï¼ˆåˆæœŸè¡¨ç¤ºæ™‚é–“ã€æ“ä½œå¿œç­”æ™‚é–“ã€æœ€é©åŒ–ï¼‰
   - æŠ€è¡“çš„è©³ç´°ï¼ˆä½¿ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€APIå‘¼ã³å‡ºã—ã€å‹å®šç¾©ï¼‰

8. **ç”»é¢é·ç§»å›³ã®ä½œæˆ**
   - NEVER å¯¾è±¡ãŒWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚„UIã‚’æŒã¤ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ãªã„å ´åˆã¯ç”Ÿæˆã—ãªã„
   - Mermaidè¨˜æ³•ã§ç”»é¢é·ç§»ã‚’å¯è¦–åŒ–
   - å„ç”»é¢é–“ã®é·ç§»é–¢ä¿‚
   - é·ç§»æ¡ä»¶ï¼ˆãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã€ãƒ‡ãƒ¼ã‚¿é¸æŠãªã©ï¼‰
   - ç”»é¢IDã¨ç”»é¢åã®å¯¾å¿œ

9. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã®è¨­è¨ˆ**
   - NEVER å¯¾è±¡ãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒãŒä¸è¦ã®å ´åˆã¯ç”Ÿæˆã—ãªã„
   - ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©
   - ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ãƒƒãƒ—
   - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æˆ¦ç•¥
   - æ­£è¦åŒ–ãƒ¬ãƒ™ãƒ«ã®æ±ºå®š

10. **APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®è¨­è¨ˆ**
   - NEVER å¯¾è±¡ã«APIã§ã¯ãªã„å ´åˆã€ã¾ãŸã¯æ—¢å­˜ã®APIã‚’åˆ©ç”¨ã™ã‚‹å ´åˆã¯ç”Ÿæˆã—ãªã„
   - RESTful APIè¨­è¨ˆ
   - ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®å‘½åè¦å‰‡
   - HTTPãƒ¡ã‚½ãƒƒãƒ‰ã®é©åˆ‡ãªä½¿ç”¨
   - ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®æ§‹é€ 

11. **ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ**
   - `docs/design/{è¦ä»¶å}/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä»¥ä¸‹ã‚’ä½œæˆï¼š
     - `architecture.md` - ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦
     - `dataflow.md` - ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³
     - `interfaces.ts` - TypeScriptå‹å®šç¾©
     - `database-schema.sql` - DBã‚¹ã‚­ãƒ¼ãƒï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒå¿…è¦ãªå ´åˆï¼‰
     - `api-endpoints.md` - APIä»•æ§˜ï¼ˆAPIãŒå¿…è¦ãªå ´åˆï¼‰
     - `screens.md` - ç”»é¢è¨­è¨ˆï¼ˆWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚„UIã‚’æŒã¤ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å ´åˆï¼‰
     - `screen-trans.md` - ç”»é¢é·ç§»å›³ï¼ˆWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚„UIã‚’æŒã¤ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å ´åˆï¼‰

## å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¾‹

### architecture.md

```markdown
# {è¦ä»¶å} ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

## ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

{ã‚·ã‚¹ãƒ†ãƒ ã®æ¦‚è¦èª¬æ˜}

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³

- ãƒ‘ã‚¿ãƒ¼ãƒ³: {é¸æŠã—ãŸãƒ‘ã‚¿ãƒ¼ãƒ³}
- ç†ç”±: {é¸æŠç†ç”±}

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

- ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯: {ä½¿ç”¨ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯}
- çŠ¶æ…‹ç®¡ç†: {çŠ¶æ…‹ç®¡ç†æ–¹æ³•}

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

- ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯: {ä½¿ç”¨ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯}
- èªè¨¼æ–¹å¼: {èªè¨¼æ–¹æ³•}

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

- DBMS: {ä½¿ç”¨ã™ã‚‹DBMS}
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥: {ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥}
```

### dataflow.md

```markdown
# ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³

## ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ•ãƒ­ãƒ¼

``````mermaid
flowchart TD
A[ãƒ¦ãƒ¼ã‚¶ãƒ¼] --> B[ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰]
B --> C[API Gateway]
C --> D[ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰]
D --> E[ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹]
``````

## ãƒ‡ãƒ¼ã‚¿å‡¦ç†ãƒ•ãƒ­ãƒ¼

``````mermaid
sequenceDiagram
participant U as ãƒ¦ãƒ¼ã‚¶ãƒ¼
participant F as ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
participant B as ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
participant D as ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

    U->>F: ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
    F->>B: APIãƒªã‚¯ã‚¨ã‚¹ãƒˆ
    B->>D: ã‚¯ã‚¨ãƒªå®Ÿè¡Œ
    D-->>B: çµæœè¿”å´
    B-->>F: ãƒ¬ã‚¹ãƒãƒ³ã‚¹
    F-->>U: ç”»é¢æ›´æ–°

``````
```

### interfaces.ts

```typescript
// ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å®šç¾©
export interface User {
  id: string;
  email: string;
  name: string;
  createdAt: Date;
  updatedAt: Date;
}

// APIãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹
export interface CreateUserRequest {
  email: string;
  name: string;
  password: string;
}

export interface ApiResponse<T> {
  success: boolean;
  data?: T;
  error?: {
    code: string;
    message: string;
  };
}
```

### database-schema.sql

```sql
-- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«
CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    email VARCHAR(255) UNIQUE NOT NULL,
    name VARCHAR(255) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX idx_users_email ON users(email);
```

### api-endpoints.md

```markdown
# API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä»•æ§˜

## èªè¨¼

### POST /auth/login

ãƒªã‚¯ã‚¨ã‚¹ãƒˆ:
``````json
{
"email": "user@example.com",
"password": "password"
}
``````

ãƒ¬ã‚¹ãƒãƒ³ã‚¹:
``````json
{
"success": true,
"data": {
"token": "jwt-token",
"user": { ... }
}
}
``````

## ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†

### GET /users/:id

### POST /users

### PUT /users/:id

### DELETE /users/:id
```

### screens.md

```markdown
# ç”»é¢è¨­è¨ˆ

## ç”»é¢ä¸€è¦§

| ç”»é¢ID | ç”»é¢å | URL/ãƒ«ãƒ¼ãƒˆ | ç›®çš„ |
|--------|--------|-----------|------|
| SCREEN-001 | ã‚«ãƒ¼ãƒ‰ä¸€è¦§ç”»é¢ | /cards | ã‚²ãƒ¼ãƒ å†…ã‚«ãƒ¼ãƒ‰ã®ä¸€è¦§è¡¨ç¤ºã€æ¤œç´¢ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚° |
| SCREEN-002 | ã‚«ãƒ¼ãƒ‰ä½œæˆç”»é¢ | /cards/new | æ–°è¦ã‚«ãƒ¼ãƒ‰ã®ä½œæˆ |
| SCREEN-003 | ã‚«ãƒ¼ãƒ‰ç·¨é›†ç”»é¢ | /cards/:id/edit | æ—¢å­˜ã‚«ãƒ¼ãƒ‰ã®ç·¨é›† |
| SCREEN-004 | ã‚«ãƒ¼ãƒ‰è©³ç´°ç”»é¢ | /cards/:id | ã‚«ãƒ¼ãƒ‰ã®è©³ç´°æƒ…å ±è¡¨ç¤º |

---

## SCREEN-001: ã‚«ãƒ¼ãƒ‰ä¸€è¦§ç”»é¢

### åŸºæœ¬æƒ…å ±
- **ç”»é¢ID**: SCREEN-001
- **ç”»é¢å**: ã‚«ãƒ¼ãƒ‰ä¸€è¦§ç”»é¢
- **URL/ãƒ«ãƒ¼ãƒˆ**: `/cards`
- **ç›®çš„**: ã‚²ãƒ¼ãƒ å†…ã‚«ãƒ¼ãƒ‰ã®ä¸€è¦§è¡¨ç¤ºã€æ¤œç´¢ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- **å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼**: ã‚²ãƒ¼ãƒ é–‹ç™ºè€…ã€ã‚²ãƒ¼ãƒ ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- **ãƒ˜ãƒƒãƒ€ãƒ¼**: ã‚¢ãƒ—ãƒªã‚¿ã‚¤ãƒˆãƒ«ã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼
- **ã‚µã‚¤ãƒ‰ãƒãƒ¼**: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆã‚«ãƒ¼ãƒ‰ç®¡ç†ã€é¡§å®¢ç®¡ç†ã€éŒ¬é‡‘ã‚¹ã‚¿ã‚¤ãƒ«ç®¡ç†ç­‰ï¼‰
- **ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„**: ã‚«ãƒ¼ãƒ‰ä¸€è¦§ãƒ†ãƒ¼ãƒ–ãƒ«ã€æ¤œç´¢ãƒãƒ¼ã€ãƒ•ã‚£ãƒ«ã‚¿
- **ãƒ•ãƒƒã‚¿ãƒ¼**: ãªã—

### ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
- **ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ï¼ˆlgä»¥ä¸Šï¼‰**: ã‚µã‚¤ãƒ‰ãƒãƒ¼è¡¨ç¤ºã€ãƒ†ãƒ¼ãƒ–ãƒ«å…¨åˆ—è¡¨ç¤º
- **ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆï¼ˆmdï¼‰**: ã‚µã‚¤ãƒ‰ãƒãƒ¼æŠ˜ã‚ŠãŸãŸã¿å¯èƒ½ã€ãƒ†ãƒ¼ãƒ–ãƒ«ä¸»è¦åˆ—è¡¨ç¤º
- **ãƒ¢ãƒã‚¤ãƒ«ï¼ˆsmä»¥ä¸‹ï¼‰**: ã‚µã‚¤ãƒ‰ãƒãƒ¼éè¡¨ç¤ºã€ã‚«ãƒ¼ãƒ‰å½¢å¼ã§è¡¨ç¤º

### ç”»é¢è¦ç´ 

#### æ¤œç´¢ãƒãƒ¼
- **ä½ç½®**: ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä¸Šéƒ¨ä¸­å¤®
- **è¦ç´ **: 
  - ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›æ¬„ï¼ˆãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼: "ã‚«ãƒ¼ãƒ‰åã§æ¤œç´¢..."ï¼‰
  - æ¤œç´¢ãƒœã‚¿ãƒ³ï¼ˆã‚¢ã‚¤ã‚³ãƒ³: è™«çœ¼é¡ï¼‰
- **æ©Ÿèƒ½**: ã‚«ãƒ¼ãƒ‰åã§ã®éƒ¨åˆ†ä¸€è‡´æ¤œç´¢
- **ã‚¹ã‚¿ã‚¤ãƒ«**: TailwindCSS `border rounded-lg px-4 py-2`

#### ãƒ•ã‚£ãƒ«ã‚¿
- **ä½ç½®**: æ¤œç´¢ãƒãƒ¼ã®ä¸‹
- **è¦ç´ **: 
  - ã‚«ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ï¼ˆå…¨ã‚¿ã‚¤ãƒ—ã€æ”»æ’ƒã€é˜²å¾¡ã€æ”¯æ´ç­‰ï¼‰
  - ãƒ¬ã‚¢ãƒªãƒ†ã‚£ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ï¼ˆå…¨ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã€ã‚³ãƒ¢ãƒ³ã€ãƒ¬ã‚¢ã€ã‚¨ãƒ”ãƒƒã‚¯ç­‰ï¼‰
  - ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³
- **æ©Ÿèƒ½**: é¸æŠã—ãŸæ¡ä»¶ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- **ã‚¹ã‚¿ã‚¤ãƒ«**: TailwindCSS `flex gap-4`

#### ã‚«ãƒ¼ãƒ‰ä¸€è¦§ãƒ†ãƒ¼ãƒ–ãƒ«
- **ä½ç½®**: ãƒ•ã‚£ãƒ«ã‚¿ã®ä¸‹
- **åˆ—**: 
  - IDï¼ˆå¹…: 80pxï¼‰
  - ã‚«ãƒ¼ãƒ‰åï¼ˆå¹…: 200pxã€ã‚½ãƒ¼ãƒˆå¯èƒ½ï¼‰
  - ã‚¿ã‚¤ãƒ—ï¼ˆå¹…: 100pxã€ã‚½ãƒ¼ãƒˆå¯èƒ½ï¼‰
  - ãƒ¬ã‚¢ãƒªãƒ†ã‚£ï¼ˆå¹…: 100pxã€ã‚½ãƒ¼ãƒˆå¯èƒ½ï¼‰
  - ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚³ã‚¹ãƒˆï¼ˆå¹…: 120pxã€ã‚½ãƒ¼ãƒˆå¯èƒ½ï¼‰
  - ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆå¹…: 150pxï¼‰
- **ã‚½ãƒ¼ãƒˆ**: å„åˆ—ãƒ˜ãƒƒãƒ€ãƒ¼ã‚¯ãƒªãƒƒã‚¯ã§æ˜‡é †/é™é †åˆ‡ã‚Šæ›¿ãˆ
- **ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³**: 20ä»¶/ãƒšãƒ¼ã‚¸ã€å‰å¾Œãƒšãƒ¼ã‚¸ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
- **ã‚¹ã‚¿ã‚¤ãƒ«**: TailwindCSS `table-auto w-full`

#### æ–°è¦ä½œæˆãƒœã‚¿ãƒ³
- **ä½ç½®**: å³ä¸Šï¼ˆæ¤œç´¢ãƒãƒ¼ã®å³ï¼‰
- **è¦ç´ **: ãƒœã‚¿ãƒ³ï¼ˆãƒ†ã‚­ã‚¹ãƒˆ: "æ–°è¦ä½œæˆ"ã€ã‚¢ã‚¤ã‚³ãƒ³: +ï¼‰
- **æ©Ÿèƒ½**: ã‚«ãƒ¼ãƒ‰ä½œæˆç”»é¢ï¼ˆSCREEN-002ï¼‰ã¸é·ç§»
- **ã‚¹ã‚¿ã‚¤ãƒ«**: TailwindCSS `bg-blue-500 text-white px-4 py-2 rounded`

#### ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ï¼ˆå„è¡Œï¼‰
- **è¦ç´ **: 
  - è©³ç´°ãƒœã‚¿ãƒ³ï¼ˆã‚¢ã‚¤ã‚³ãƒ³: ç›®ï¼‰
  - ç·¨é›†ãƒœã‚¿ãƒ³ï¼ˆã‚¢ã‚¤ã‚³ãƒ³: é‰›ç­†ï¼‰
  - å‰Šé™¤ãƒœã‚¿ãƒ³ï¼ˆã‚¢ã‚¤ã‚³ãƒ³: ã‚´ãƒŸç®±ï¼‰
- **æ©Ÿèƒ½**: 
  - è©³ç´°: ã‚«ãƒ¼ãƒ‰è©³ç´°ç”»é¢ï¼ˆSCREEN-004ï¼‰ã¸é·ç§»
  - ç·¨é›†: ã‚«ãƒ¼ãƒ‰ç·¨é›†ç”»é¢ï¼ˆSCREEN-003ï¼‰ã¸é·ç§»
  - å‰Šé™¤: ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤ºå¾Œã€å‰Šé™¤APIå‘¼ã³å‡ºã—

### ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º
- **API**: `GET /api/cards?page=1&limit=20&search={æ¤œç´¢æ–‡å­—åˆ—}&type={ã‚¿ã‚¤ãƒ—}&rarity={ãƒ¬ã‚¢ãƒªãƒ†ã‚£}`
- **è¡¨ç¤ºé …ç›®**: Cardå‹ã®å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆid, name, type, rarity, energyCostç­‰ï¼‰
- **ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹**: ã‚¹ã‚±ãƒ«ãƒˆãƒ³ãƒ­ãƒ¼ãƒ€ãƒ¼è¡¨ç¤º
- **ãƒ‡ãƒ¼ã‚¿ãªã—**: "ã‚«ãƒ¼ãƒ‰ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º

### æ“ä½œãƒ•ãƒ­ãƒ¼
1. ç”»é¢è¡¨ç¤ºæ™‚ã«ã‚«ãƒ¼ãƒ‰ä¸€è¦§ã‚’å–å¾—ï¼ˆTanStack Queryï¼‰
2. æ¤œç´¢ãƒãƒ¼ã«å…¥åŠ› â†’ Enterã‚­ãƒ¼ã¾ãŸã¯æ¤œç´¢ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ â†’ æ¤œç´¢å®Ÿè¡Œ
3. ãƒ•ã‚£ãƒ«ã‚¿ã§æ¡ä»¶é¸æŠ â†’ è‡ªå‹•çš„ã«ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å®Ÿè¡Œ
4. ãƒ†ãƒ¼ãƒ–ãƒ«è¡Œã‚¯ãƒªãƒƒã‚¯ â†’ ã‚«ãƒ¼ãƒ‰è©³ç´°ç”»é¢ï¼ˆSCREEN-004ï¼‰ã¸é·ç§»
5. æ–°è¦ä½œæˆãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ â†’ ã‚«ãƒ¼ãƒ‰ä½œæˆç”»é¢ï¼ˆSCREEN-002ï¼‰ã¸é·ç§»
6. å‰Šé™¤ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ â†’ ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º â†’ OKã§å‰Šé™¤APIå‘¼ã³å‡ºã— â†’ ä¸€è¦§æ›´æ–°

### çŠ¶æ…‹ç®¡ç†
- **ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹**: TanStack Query
  - `useQuery` ã§ã‚«ãƒ¼ãƒ‰ä¸€è¦§å–å¾—
  - `useMutation` ã§å‰Šé™¤å‡¦ç†
  - `staleTime`: 5åˆ†ã€`cacheTime`: 10åˆ†
- **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆçŠ¶æ…‹**: React Hooks
  - `useState` ã§æ¤œç´¢æ–‡å­—åˆ—ã€ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ã€ãƒšãƒ¼ã‚¸ç•ªå·ã‚’ç®¡ç†

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- **APIã‚¨ãƒ©ãƒ¼æ™‚**: Toasté€šçŸ¥ã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºï¼ˆä¾‹: "ã‚«ãƒ¼ãƒ‰ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ"ï¼‰
- **ãƒ‡ãƒ¼ã‚¿ãªã—**: ãƒ†ãƒ¼ãƒ–ãƒ«éƒ¨åˆ†ã« "ã‚«ãƒ¼ãƒ‰ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“" ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼**: "ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚æ¥ç¶šã‚’ç¢ºèªã—ã¦ãã ã•ã„" ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º

### ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£
- **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ**: Tabã‚­ãƒ¼ã§å„è¦ç´ ã‚’é †ç•ªã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç§»å‹•
- **ARIAå±æ€§**: `aria-label` ã§ãƒœã‚¿ãƒ³ã®èª¬æ˜ã€`aria-sort` ã§ã‚½ãƒ¼ãƒˆçŠ¶æ…‹ã‚’æ˜ç¤º
- **ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†**: å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤ºæ™‚ã€ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’ãƒ€ã‚¤ã‚¢ãƒ­ã‚°å†…ã«ç§»å‹•

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶
- **åˆæœŸè¡¨ç¤ºæ™‚é–“**: 2ç§’ä»¥å†…
- **æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å¿œç­”æ™‚é–“**: 500msä»¥å†…
- **æœ€é©åŒ–**: 
  - ãƒ‡ãƒã‚¦ãƒ³ã‚¹å‡¦ç†ï¼ˆæ¤œç´¢å…¥åŠ›500mså¾Œã«APIå‘¼ã³å‡ºã—ï¼‰
  - ä»®æƒ³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼ˆ100ä»¶ä»¥ä¸Šã®å ´åˆï¼‰

### æŠ€è¡“çš„è©³ç´°
- **ä½¿ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: shadcn/ui Table, Button, Input, Select
- **APIå‘¼ã³å‡ºã—**: Axios `GET /api/cards`
- **å‹å®šç¾©**: `interfaces.ts` ã® `Card` å‹ã‚’å‚ç…§

---

## SCREEN-002: ã‚«ãƒ¼ãƒ‰ä½œæˆç”»é¢

### åŸºæœ¬æƒ…å ±
- **ç”»é¢ID**: SCREEN-002
- **ç”»é¢å**: ã‚«ãƒ¼ãƒ‰ä½œæˆç”»é¢
- **URL/ãƒ«ãƒ¼ãƒˆ**: `/cards/new`
- **ç›®çš„**: æ–°è¦ã‚«ãƒ¼ãƒ‰ã®ä½œæˆ
- **å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼**: ã‚²ãƒ¼ãƒ é–‹ç™ºè€…ã€ã‚²ãƒ¼ãƒ ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- **ãƒ˜ãƒƒãƒ€ãƒ¼**: ã‚¢ãƒ—ãƒªã‚¿ã‚¤ãƒˆãƒ«ã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼
- **ã‚µã‚¤ãƒ‰ãƒãƒ¼**: ãƒ¡ãƒ‹ãƒ¥ãƒ¼
- **ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„**: ã‚«ãƒ¼ãƒ‰ä½œæˆãƒ•ã‚©ãƒ¼ãƒ 
- **ãƒ•ãƒƒã‚¿ãƒ¼**: ãªã—

### ç”»é¢è¦ç´ 

#### ãƒ•ã‚©ãƒ¼ãƒ 
- **ä½ç½®**: ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä¸­å¤®
- **å¹…**: æœ€å¤§800pxã€ä¸­å¤®é…ç½®

#### å…¥åŠ›é …ç›®

| é …ç›®å | ãƒ‡ãƒ¼ã‚¿å‹ | å¿…é ˆ | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ | ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ |
|--------|---------|------|---------------|-----------------|
| ã‚«ãƒ¼ãƒ‰å | string | å¿…é ˆ | 1ã€œ50æ–‡å­—ã€é‡è¤‡ãƒã‚§ãƒƒã‚¯ | "ã‚«ãƒ¼ãƒ‰åã‚’å…¥åŠ›" |
| ã‚¿ã‚¤ãƒ— | enum | å¿…é ˆ | é¸æŠå¿…é ˆ | - |
| ãƒ¬ã‚¢ãƒªãƒ†ã‚£ | enum | å¿…é ˆ | é¸æŠå¿…é ˆ | - |
| ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚³ã‚¹ãƒˆ | number | å¿…é ˆ | 0ã€œ5ã®æ•´æ•° | "0" |
| èª¬æ˜ | string | ä»»æ„ | æœ€å¤§500æ–‡å­— | "ã‚«ãƒ¼ãƒ‰ã®èª¬æ˜ã‚’å…¥åŠ›" |

#### ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ï¼ˆZodã‚¹ã‚­ãƒ¼ãƒï¼‰
``````typescript
const cardSchema = z.object({
  name: z.string().min(1).max(50),
  type: z.enum(['ATTACK', 'DEFENSE', 'SUPPORT']),
  rarity: z.enum(['COMMON', 'RARE', 'EPIC']),
  energyCost: z.number().int().min(0).max(5),
  description: z.string().max(500).optional(),
});
``````

#### ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- **ã‚«ãƒ¼ãƒ‰å**: "ã‚«ãƒ¼ãƒ‰åã¯1ã€œ50æ–‡å­—ã§å…¥åŠ›ã—ã¦ãã ã•ã„"
- **ã‚¿ã‚¤ãƒ—**: "ã‚¿ã‚¤ãƒ—ã‚’é¸æŠã—ã¦ãã ã•ã„"
- **ãƒ¬ã‚¢ãƒªãƒ†ã‚£**: "ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã‚’é¸æŠã—ã¦ãã ã•ã„"
- **ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚³ã‚¹ãƒˆ**: "ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚³ã‚¹ãƒˆã¯0ã€œ5ã®ç¯„å›²ã§å…¥åŠ›ã—ã¦ãã ã•ã„"

#### ãƒœã‚¿ãƒ³
- **é€ä¿¡ãƒœã‚¿ãƒ³**: ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ï¼ˆAPIå‘¼ã³å‡ºã—ï¼‰
- **ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³**: ã‚«ãƒ¼ãƒ‰ä¸€è¦§ç”»é¢ï¼ˆSCREEN-001ï¼‰ã¸æˆ»ã‚‹
- **ä½ç½®**: ãƒ•ã‚©ãƒ¼ãƒ ä¸‹éƒ¨ã€å³å¯„ã›

#### åˆæœŸå€¤
- ã™ã¹ã¦ç©ºï¼ˆæ–°è¦ä½œæˆã®ãŸã‚ï¼‰

### æ“ä½œãƒ•ãƒ­ãƒ¼
1. ãƒ•ã‚©ãƒ¼ãƒ ã«å…¥åŠ›
2. é€ä¿¡ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ â†’ Zodãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
3. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æˆåŠŸ â†’ APIå‘¼ã³å‡ºã—ï¼ˆ`POST /api/cards`ï¼‰
4. æˆåŠŸ â†’ Toasté€šçŸ¥è¡¨ç¤º â†’ ã‚«ãƒ¼ãƒ‰ä¸€è¦§ç”»é¢ï¼ˆSCREEN-001ï¼‰ã¸é·ç§»
5. ã‚¨ãƒ©ãƒ¼ â†’ ãƒ•ã‚©ãƒ¼ãƒ å†…ã«ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º

### çŠ¶æ…‹ç®¡ç†
- **ãƒ•ã‚©ãƒ¼ãƒ çŠ¶æ…‹**: React Hook Form
- **ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹**: TanStack Query `useMutation` ã§ä½œæˆå‡¦ç†

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼**: å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ä¸‹ã«èµ¤å­—ã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
- **APIã‚¨ãƒ©ãƒ¼**: Toasté€šçŸ¥ã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
- **é‡è¤‡ã‚¨ãƒ©ãƒ¼**: "ã“ã®ã‚«ãƒ¼ãƒ‰åã¯æ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™" ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º

---

## SCREEN-003: ã‚«ãƒ¼ãƒ‰ç·¨é›†ç”»é¢

### åŸºæœ¬æƒ…å ±
- **ç”»é¢ID**: SCREEN-003
- **ç”»é¢å**: ã‚«ãƒ¼ãƒ‰ç·¨é›†ç”»é¢
- **URL/ãƒ«ãƒ¼ãƒˆ**: `/cards/:id/edit`
- **ç›®çš„**: æ—¢å­˜ã‚«ãƒ¼ãƒ‰ã®ç·¨é›†
- **å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼**: ã‚²ãƒ¼ãƒ é–‹ç™ºè€…ã€ã‚²ãƒ¼ãƒ ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- SCREEN-002ã¨åŒæ§˜ï¼ˆãƒ•ã‚©ãƒ¼ãƒ å½¢å¼ï¼‰

### ç”»é¢è¦ç´ 
- SCREEN-002ã¨åŒæ§˜ï¼ˆå…¥åŠ›é …ç›®ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒœã‚¿ãƒ³ï¼‰

### åˆæœŸå€¤
- APIã‹ã‚‰å–å¾—ã—ãŸæ—¢å­˜ã‚«ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ï¼ˆ`GET /api/cards/:id`ï¼‰ã§ãƒ•ã‚©ãƒ¼ãƒ ã‚’åˆæœŸåŒ–

### æ“ä½œãƒ•ãƒ­ãƒ¼
1. ç”»é¢è¡¨ç¤ºæ™‚ã«ã‚«ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
2. ãƒ•ã‚©ãƒ¼ãƒ ã«å…¥åŠ›ãƒ»ç·¨é›†
3. é€ä¿¡ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ â†’ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
4. æˆåŠŸ â†’ APIå‘¼ã³å‡ºã—ï¼ˆ`PUT /api/cards/:id`ï¼‰
5. æˆåŠŸ â†’ Toasté€šçŸ¥è¡¨ç¤º â†’ ã‚«ãƒ¼ãƒ‰è©³ç´°ç”»é¢ï¼ˆSCREEN-004ï¼‰ã¸é·ç§»

---

## SCREEN-004: ã‚«ãƒ¼ãƒ‰è©³ç´°ç”»é¢

### åŸºæœ¬æƒ…å ±
- **ç”»é¢ID**: SCREEN-004
- **ç”»é¢å**: ã‚«ãƒ¼ãƒ‰è©³ç´°ç”»é¢
- **URL/ãƒ«ãƒ¼ãƒˆ**: `/cards/:id`
- **ç›®çš„**: ã‚«ãƒ¼ãƒ‰ã®è©³ç´°æƒ…å ±è¡¨ç¤º
- **å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼**: ã‚²ãƒ¼ãƒ é–‹ç™ºè€…ã€ã‚²ãƒ¼ãƒ ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- **ãƒ˜ãƒƒãƒ€ãƒ¼**: ã‚¢ãƒ—ãƒªã‚¿ã‚¤ãƒˆãƒ«ã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼
- **ã‚µã‚¤ãƒ‰ãƒãƒ¼**: ãƒ¡ãƒ‹ãƒ¥ãƒ¼
- **ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„**: ã‚«ãƒ¼ãƒ‰è©³ç´°æƒ…å ±ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³
- **ãƒ•ãƒƒã‚¿ãƒ¼**: ãªã—

### ç”»é¢è¦ç´ 

#### ã‚«ãƒ¼ãƒ‰æƒ…å ±è¡¨ç¤º
- **ä½ç½®**: ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä¸­å¤®
- **è¡¨ç¤ºé …ç›®**: 
  - ID
  - ã‚«ãƒ¼ãƒ‰å
  - ã‚¿ã‚¤ãƒ—
  - ãƒ¬ã‚¢ãƒªãƒ†ã‚£
  - ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚³ã‚¹ãƒˆ
  - èª¬æ˜
  - ä½œæˆæ—¥æ™‚
  - æ›´æ–°æ—¥æ™‚

#### ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³
- **ç·¨é›†ãƒœã‚¿ãƒ³**: ã‚«ãƒ¼ãƒ‰ç·¨é›†ç”»é¢ï¼ˆSCREEN-003ï¼‰ã¸é·ç§»
- **å‰Šé™¤ãƒœã‚¿ãƒ³**: ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤ºå¾Œã€å‰Šé™¤APIå‘¼ã³å‡ºã—
- **ä¸€è¦§ã¸æˆ»ã‚‹ãƒœã‚¿ãƒ³**: ã‚«ãƒ¼ãƒ‰ä¸€è¦§ç”»é¢ï¼ˆSCREEN-001ï¼‰ã¸é·ç§»
- **ä½ç½®**: ã‚«ãƒ¼ãƒ‰æƒ…å ±ã®ä¸‹ã€å³å¯„ã›

### ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º
- **API**: `GET /api/cards/:id`
- **ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹**: ã‚¹ã‚±ãƒ«ãƒˆãƒ³ãƒ­ãƒ¼ãƒ€ãƒ¼è¡¨ç¤º

### æ“ä½œãƒ•ãƒ­ãƒ¼
1. ç”»é¢è¡¨ç¤ºæ™‚ã«ã‚«ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
2. ç·¨é›†ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ â†’ ã‚«ãƒ¼ãƒ‰ç·¨é›†ç”»é¢ï¼ˆSCREEN-003ï¼‰ã¸é·ç§»
3. å‰Šé™¤ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ â†’ ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º â†’ OKã§å‰Šé™¤APIå‘¼ã³å‡ºã— â†’ ã‚«ãƒ¼ãƒ‰ä¸€è¦§ç”»é¢ï¼ˆSCREEN-001ï¼‰ã¸é·ç§»
4. ä¸€è¦§ã¸æˆ»ã‚‹ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ â†’ ã‚«ãƒ¼ãƒ‰ä¸€è¦§ç”»é¢ï¼ˆSCREEN-001ï¼‰ã¸é·ç§»

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- **404ã‚¨ãƒ©ãƒ¼**: "ã‚«ãƒ¼ãƒ‰ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“" ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º â†’ ã‚«ãƒ¼ãƒ‰ä¸€è¦§ç”»é¢ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
- **ãã®ä»–ã®ã‚¨ãƒ©ãƒ¼**: Toasté€šçŸ¥ã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
```

### screen-trans.md

```markdown
# ç”»é¢é·ç§»å›³

## ç”»é¢é·ç§»æ¦‚è¦

``````mermaid
flowchart TD
    A[SCREEN-001: ã‚«ãƒ¼ãƒ‰ä¸€è¦§ç”»é¢] -->|æ–°è¦ä½œæˆãƒœã‚¿ãƒ³| B[SCREEN-002: ã‚«ãƒ¼ãƒ‰ä½œæˆç”»é¢]
    A -->|è¡Œã‚¯ãƒªãƒƒã‚¯/è©³ç´°ãƒœã‚¿ãƒ³| D[SCREEN-004: ã‚«ãƒ¼ãƒ‰è©³ç´°ç”»é¢]
    A -->|ç·¨é›†ãƒœã‚¿ãƒ³| C[SCREEN-003: ã‚«ãƒ¼ãƒ‰ç·¨é›†ç”»é¢]
    B -->|é€ä¿¡æˆåŠŸ| A
    B -->|ã‚­ãƒ£ãƒ³ã‚»ãƒ«| A
    C -->|é€ä¿¡æˆåŠŸ| D
    C -->|ã‚­ãƒ£ãƒ³ã‚»ãƒ«| D
    D -->|ç·¨é›†ãƒœã‚¿ãƒ³| C
    D -->|å‰Šé™¤æˆåŠŸ| A
    D -->|ä¸€è¦§ã¸æˆ»ã‚‹| A
``````

## ç”»é¢é·ç§»è©³ç´°

### SCREEN-001: ã‚«ãƒ¼ãƒ‰ä¸€è¦§ç”»é¢

| é·ç§»å…ˆ | é·ç§»æ¡ä»¶ | é·ç§»æ–¹æ³• |
|--------|---------|---------|
| SCREEN-002 | æ–°è¦ä½œæˆãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ | React Router `navigate('/cards/new')` |
| SCREEN-003 | ç·¨é›†ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ | React Router `navigate('/cards/:id/edit')` |
| SCREEN-004 | è¡Œã‚¯ãƒªãƒƒã‚¯ã¾ãŸã¯è©³ç´°ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ | React Router `navigate('/cards/:id')` |

### SCREEN-002: ã‚«ãƒ¼ãƒ‰ä½œæˆç”»é¢

| é·ç§»å…ˆ | é·ç§»æ¡ä»¶ | é·ç§»æ–¹æ³• |
|--------|---------|---------|
| SCREEN-001 | é€ä¿¡æˆåŠŸ | React Router `navigate('/cards')` + Toasté€šçŸ¥ |
| SCREEN-001 | ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ | React Router `navigate('/cards')` |

### SCREEN-003: ã‚«ãƒ¼ãƒ‰ç·¨é›†ç”»é¢

| é·ç§»å…ˆ | é·ç§»æ¡ä»¶ | é·ç§»æ–¹æ³• |
|--------|---------|---------|
| SCREEN-004 | é€ä¿¡æˆåŠŸ | React Router `navigate('/cards/:id')` + Toasté€šçŸ¥ |
| SCREEN-004 | ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ | React Router `navigate('/cards/:id')` |

### SCREEN-004: ã‚«ãƒ¼ãƒ‰è©³ç´°ç”»é¢

| é·ç§»å…ˆ | é·ç§»æ¡ä»¶ | é·ç§»æ–¹æ³• |
|--------|---------|---------|
| SCREEN-003 | ç·¨é›†ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ | React Router `navigate('/cards/:id/edit')` |
| SCREEN-001 | å‰Šé™¤æˆåŠŸ | React Router `navigate('/cards')` + Toasté€šçŸ¥ |
| SCREEN-001 | ä¸€è¦§ã¸æˆ»ã‚‹ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ | React Router `navigate('/cards')` |

## ç”»é¢é·ç§»ã®æ¡ä»¶

### ãƒ‡ãƒ¼ã‚¿ä¾å­˜ã®é·ç§»
- **SCREEN-003, SCREEN-004**: ã‚«ãƒ¼ãƒ‰IDï¼ˆ`:id`ï¼‰ãŒå¿…è¦
- **404ã‚¨ãƒ©ãƒ¼æ™‚**: SCREEN-001ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ

### ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- **å‰Šé™¤æ“ä½œ**: ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º â†’ OKã§é·ç§»
- **æœªä¿å­˜ãƒ‡ãƒ¼ã‚¿**: ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º â†’ OKã§é·ç§»ã€ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã§é·ç§»ä¸­æ­¢
```

## å®Ÿè¡Œå¾Œã®ç¢ºèª

- @agent-symbol-searcher ã§ä½œæˆã—ãŸè¨­è¨ˆã¨æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®æ•´åˆæ€§ã‚’ç¢ºèª
- ä½œæˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€è¦§ã‚’è¡¨ç¤º
- è¨­è¨ˆã®ä¸»è¦ãªãƒã‚¤ãƒ³ãƒˆã‚’ã‚µãƒãƒªãƒ¼ã§è¡¨ç¤º
- ãƒ¦ãƒ¼ã‚¶ã«ç¢ºèªã‚’ä¿ƒã™ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
