# 開発ガイドライン

## アーキテクチャ

このプロジェクトは**DDD（ドメイン駆動設計）とクリーンアーキテクチャ**に従います。

### 主要な設計パターン

1. **リポジトリパターン**: インターフェースの背後でデータアクセスを抽象化
2. **ユースケースパターン**: 各ビジネス操作は個別のユースケース
3. **値オブジェクト**: バリデーションをカプセル化（例：Email、AppId、Slug）
4. **Server/Client コンポーネント分離**: パフォーマンスの最適化
5. **複合コンポーネント**: 複雑なUI用（Card.Header、Card.Bodyなど）

## テスト戦略

このプロジェクトは**TDD（テスト駆動開発）**と**ゼロ警告ポリシー**に従います。

## コアビジネスエンティティ

- **App**: 開発者のアプリケーションを表すメインエンティティ
- **User**: アプリを作成する開発者
- **TechStack**: アプリで使用される技術
- **AppScreenshot**: アプリの視覚的表現
- **DeveloperLink**: ソーシャル/ポートフォリオリンク

## API設計

一貫したレスポンス形式のRESTfulエンドポイント：
```json
{
  "success": true,
  "data": { ... },
  "meta": { "timestamp": "..." }
}
```

エラーレスポンス：
```json
{
  "success": false,
  "error": {
    "code": "ERROR_CODE",
    "message": "ユーザーフレンドリーなメッセージ"
  }
}
```


## 重要な設計上の決定

1. **SEOファースト**: すべてのアプリ詳細ページは適切なメタタグでサーバーレンダリング必須
2. **最小限の登録**: アプリ登録に必要なフィールドは4つのみ（名前、URL、説明、技術スタック）
3. **型安全性**: `any`型を使用しない厳密なTypeScript
4. **エラーハンドリング**: `AppError`基底クラスを拡張した構造化エラークラス
5. **パフォーマンス**: 人気ページにはISR、その他には動的レンダリングを使用


## フロントエンドガイドライン

- デフォルトでServer Componentsを優先
- 必要な場合のみ`'use client'`を使用（フォーム、インタラクティブ性）
- 再利用性のためにジェネリックコンポーネント + アダプターパターンに従う
- スタイリングにはTailwind CSSとCVAを使用
- 適切なローディングとエラー状態を実装
- モバイルファーストのレスポンシブデザインを確保

## pnpmコマンド
- npm test: テスト実行、`--`のオプションは使用してはいけない